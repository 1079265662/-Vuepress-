<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue的杂类 | LKaiLi</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://pan.zealsay.com/blog/favicon.ico">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/mouseClick.js"></script>
    <script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b0aae218897fa9d8a9f76e9a77e0b3c6";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
        </script>
    <meta name="description" content="草 走 🤸 忽略">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.bf1c588c.css" as="style"><link rel="preload" href="/assets/js/app.e4374b48.js" as="script"><link rel="preload" href="/assets/js/5.dee44220.js" as="script"><link rel="preload" href="/assets/js/1.064c88d4.js" as="script"><link rel="preload" href="/assets/js/37.111e6587.js" as="script"><link rel="prefetch" href="/assets/js/10.d3fc6e0e.js"><link rel="prefetch" href="/assets/js/11.ff84ea85.js"><link rel="prefetch" href="/assets/js/12.c16c8515.js"><link rel="prefetch" href="/assets/js/13.7aecb9f5.js"><link rel="prefetch" href="/assets/js/14.f0030f17.js"><link rel="prefetch" href="/assets/js/15.06ab352b.js"><link rel="prefetch" href="/assets/js/16.bcd597bc.js"><link rel="prefetch" href="/assets/js/17.e0c7a1fe.js"><link rel="prefetch" href="/assets/js/18.e18485c3.js"><link rel="prefetch" href="/assets/js/19.c3ef5c9a.js"><link rel="prefetch" href="/assets/js/20.7821c9d7.js"><link rel="prefetch" href="/assets/js/21.9e354c8e.js"><link rel="prefetch" href="/assets/js/22.91f17303.js"><link rel="prefetch" href="/assets/js/23.1cc88d6b.js"><link rel="prefetch" href="/assets/js/24.7ad67455.js"><link rel="prefetch" href="/assets/js/25.3e02aa73.js"><link rel="prefetch" href="/assets/js/26.ed82d582.js"><link rel="prefetch" href="/assets/js/27.1154de24.js"><link rel="prefetch" href="/assets/js/28.13f44bfa.js"><link rel="prefetch" href="/assets/js/29.c581051a.js"><link rel="prefetch" href="/assets/js/3.9abb0430.js"><link rel="prefetch" href="/assets/js/30.92d79179.js"><link rel="prefetch" href="/assets/js/31.caa76703.js"><link rel="prefetch" href="/assets/js/32.8fe0f3e0.js"><link rel="prefetch" href="/assets/js/33.20eeaf09.js"><link rel="prefetch" href="/assets/js/34.82a626ae.js"><link rel="prefetch" href="/assets/js/35.25a04992.js"><link rel="prefetch" href="/assets/js/36.10203cca.js"><link rel="prefetch" href="/assets/js/38.c7171172.js"><link rel="prefetch" href="/assets/js/39.51b7d765.js"><link rel="prefetch" href="/assets/js/4.66b4d1c5.js"><link rel="prefetch" href="/assets/js/40.f832015c.js"><link rel="prefetch" href="/assets/js/41.f2f04229.js"><link rel="prefetch" href="/assets/js/42.f36c8e3b.js"><link rel="prefetch" href="/assets/js/43.5c69c02e.js"><link rel="prefetch" href="/assets/js/44.e6de46bb.js"><link rel="prefetch" href="/assets/js/45.8b5216e3.js"><link rel="prefetch" href="/assets/js/46.2079989a.js"><link rel="prefetch" href="/assets/js/47.bd59143e.js"><link rel="prefetch" href="/assets/js/48.2de4a5b9.js"><link rel="prefetch" href="/assets/js/49.057d4ca7.js"><link rel="prefetch" href="/assets/js/50.5d55cd1d.js"><link rel="prefetch" href="/assets/js/51.62e6924c.js"><link rel="prefetch" href="/assets/js/52.5eaa90ab.js"><link rel="prefetch" href="/assets/js/53.28b8d699.js"><link rel="prefetch" href="/assets/js/54.d7835abf.js"><link rel="prefetch" href="/assets/js/55.43f1ad24.js"><link rel="prefetch" href="/assets/js/56.12cf7efb.js"><link rel="prefetch" href="/assets/js/57.ab99e266.js"><link rel="prefetch" href="/assets/js/58.b5b7cd1c.js"><link rel="prefetch" href="/assets/js/59.1d95304c.js"><link rel="prefetch" href="/assets/js/6.dfbf8e28.js"><link rel="prefetch" href="/assets/js/60.767c3258.js"><link rel="prefetch" href="/assets/js/61.58525aad.js"><link rel="prefetch" href="/assets/js/62.4577abee.js"><link rel="prefetch" href="/assets/js/63.3bd27419.js"><link rel="prefetch" href="/assets/js/64.31f0b7be.js"><link rel="prefetch" href="/assets/js/65.ce6959ba.js"><link rel="prefetch" href="/assets/js/66.e04ab3e2.js"><link rel="prefetch" href="/assets/js/67.7c4b4fb7.js"><link rel="prefetch" href="/assets/js/68.4c5419a4.js"><link rel="prefetch" href="/assets/js/69.9a6dcb07.js"><link rel="prefetch" href="/assets/js/7.8f635830.js"><link rel="prefetch" href="/assets/js/70.655cf5e8.js"><link rel="prefetch" href="/assets/js/8.3c69dc79.js"><link rel="prefetch" href="/assets/js/9.af116de0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bf1c588c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-b0959564><div data-v-b0959564><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-b0959564 data-v-b0959564><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-5cb9a64e data-v-b0959564 data-v-b0959564><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>LKaiLi</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>LKaiLi</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-b0959564><div data-v-b0959564><div id="smart" class="wrapper-page" style="background-image:url(https://tva2.sinaimg.cn/large/005INI3Xly8gs6gwelsbzj31a90u043m.jpg);background-position-x:center;background-position-y:center;background-size:cover;background-repeat-x:no-repeat;background-repeat-y:no-repeat;" data-v-b0959564><header class="navbar" data-v-b0959564><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="LKaiLi" class="logo"> <span class="site-name">LKaiLi</span></a> <div class="links"><div id="dayNightSwitch" class="generalWrapper" data-v-32f44868><a class="click" data-v-32f44868><div class="onOff daySwitch" data-v-32f44868><div class="star star1" data-v-32f44868></div> <div class="star star2" data-v-32f44868></div> <div class="star star3" data-v-32f44868></div> <div class="star star4" data-v-32f44868></div> <div class="star star5" data-v-32f44868></div> <div class="star sky" data-v-32f44868></div> <div class="sunMoon" data-v-32f44868><div class="crater crater1" data-v-32f44868></div> <div class="crater crater2" data-v-32f44868></div> <div class="crater crater3" data-v-32f44868></div> <div class="cloud part1" data-v-32f44868></div> <div class="cloud part2" data-v-32f44868></div></div></div></a></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS 方法合集/" class="nav-link"><i class="iconfont undefined"></i>
  JS 方法合集
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue3/" class="nav-link"><i class="iconfont undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue移动头条项目/" class="nav-link"><i class="iconfont undefined"></i>
  Vue移动头条项目
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue OV系统/" class="nav-link"><i class="iconfont undefined"></i>
  Vue OV系统
</a></li><li class="dropdown-item"><!----> <a href="/categories/axios/" class="nav-link"><i class="iconfont undefined"></i>
  axios
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂项/" class="nav-link"><i class="iconfont undefined"></i>
  杂项
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      关于播客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont reco-mail"></i>
  联系我
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-b0959564></div> <aside class="sidebar" data-v-b0959564><div class="personal-info-wrapper" data-v-03833281 data-v-b0959564><img src="https://i.loli.net/2021/05/17/rRzqv6kGHwATM41.png" alt="author-avatar" class="personal-img" data-v-03833281> <h3 class="name" data-v-03833281>
    LKaiLi
  </h3> <div class="num" data-v-03833281><div data-v-03833281><h3 data-v-03833281>56</h3> <h6 data-v-03833281>文章</h6></div> <div data-v-03833281><h3 data-v-03833281>19</h3> <h6 data-v-03833281>标签</h6></div></div> <hr data-v-03833281></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS 方法合集/" class="nav-link"><i class="iconfont undefined"></i>
  JS 方法合集
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue3/" class="nav-link"><i class="iconfont undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue移动头条项目/" class="nav-link"><i class="iconfont undefined"></i>
  Vue移动头条项目
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue OV系统/" class="nav-link"><i class="iconfont undefined"></i>
  Vue OV系统
</a></li><li class="dropdown-item"><!----> <a href="/categories/axios/" class="nav-link"><i class="iconfont undefined"></i>
  axios
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂项/" class="nav-link"><i class="iconfont undefined"></i>
  杂项
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      关于播客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont reco-mail"></i>
  联系我
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/docs/Vue/1_Vue_what.html" class="sidebar-link">Vue 渐进式编程的介绍</a></li><li><a href="/blogs/docs/Vue/2.2_Vue_Athours.html" aria-current="page" class="active sidebar-link">Vue的杂类</a></li><li><a href="/blogs/docs/Vue/2_Vuex.html" class="sidebar-link">Vuex 的食用方法</a></li><li><a href="/blogs/docs/Vue/3.1_Vue_echarts.html" class="sidebar-link">Vue中的echarts使用方法</a></li><li><a href="/blogs/docs/Vue/3_Vue_install.html" class="sidebar-link">Vue2 install插件案例</a></li><li><a href="/blogs/docs/Vue/4_Vue_lazy.html" class="sidebar-link">Vue路由和组件的按需加载</a></li><li><a href="/blogs/docs/Vue/6_Dom.html" class="sidebar-link">Vue底层的虚拟Dom树</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-5cb9a64e data-v-b0959564><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>Vue的杂类</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>LKaiLi</span>
            
          <!---->
          2021
        </a></span></div></div></div> <div data-v-b0959564><main class="page"><div class="page-title" style="display:none;"><h1 class="title">Vue的杂类</h1> <div class="page-info" data-v-0efa1f05><i class="iconfont reco-account" data-v-0efa1f05><span data-v-0efa1f05>LKaiLi</span></i> <i class="iconfont reco-date" data-v-0efa1f05><span data-v-0efa1f05>2021-07-08</span></i> <i class="iconfont reco-eye" data-v-0efa1f05><span id="/blogs/docs/Vue/2.2_Vue_Athours.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-0efa1f05><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-0efa1f05><span class="tag-item" data-v-0efa1f05>Vue</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p class="custom-block-title">介绍</p> <p>Vue 杂项记录<br></p></div> <h2 id="分页三种类型"><a href="#分页三种类型" class="header-anchor">#</a> 分页三种类型</h2> <p>基于页码（pagenum）和每页条数（pagesize）实现分页，orderName(按照那个字段排序)（表格分页）</p> <ul><li>基于接口文档 设置 页码 每页条数 服务器根据 页码 返回获取的数据</li> <li>也需要基于列表总数 来判断是否加载完毕(本地列表数 比对 服务器总列表数)</li></ul> <blockquote><p>基于页码的分页接口api 例子</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 根据关键字 搜索文章列表的api接口</span>
<span class="token comment">//! 分页方法: 根据 pagenum pagesize 根据页码 和 每页条数 进行分页</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">searchArticles</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 分页传参的时候 直接传对象即可</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'v1_0/search'</span><span class="token punctuation">,</span>
    <span class="token comment">// axios传递get请求参数本来就是使用params</span>
    <span class="token comment">// 利用传统的分页方法 获取分页的文章列表</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 当前页码</span>
      page<span class="token operator">:</span> options<span class="token punctuation">.</span>pagenum<span class="token punctuation">,</span>
      <span class="token comment">// 每页的条数</span>
      per_page<span class="token operator">:</span> options<span class="token punctuation">.</span>pagesize<span class="token punctuation">,</span>
      <span class="token comment">// 查询的关键字</span>
      q<span class="token operator">:</span> options<span class="token punctuation">.</span>kw
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><blockquote><p>判断分页加载完毕</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token comment">// 判断时候加载了全部数据 加载全部数据让其 finished 加载完毕状态位 设置为true</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// total是服务器返回的 模糊搜素条目的总数 满足总条数后 把获取文章列表状态位设置为true</span>
        <span class="token comment">// 如果以展示所有数据 那么 把finished 加载完毕状态位 设置为true</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>finished <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果没有加载结束 继续获取数据(继续添加页码 服务器通过页码返回搜素数据的)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>queryData<span class="token punctuation">.</span>pagenum <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
</code></pre></div><p><img src="https://i.loli.net/2021/06/15/eFuTafAzWIGOnB4.png" alt="image-20210615085901286"></p> <hr> <ul><li>基于时间排序：上一次请求返回的结果包括本页数据和下一页数据开始的时间（下拉加载分页场景）
<ul><li>基于后端返回的时间 来进行数据获取</li></ul></li></ul> <blockquote><p>基于时间戳接口api 例子</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//! 通过频道关联 实现 比对文章切换属性值 实现切换 的接口</span>
<span class="token comment">//! 命名导出 设置分页参数(时间戳) 频道单独id参数</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getArticles</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">channelId<span class="token punctuation">,</span> timestamp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">requset</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'v1_1/articles'</span><span class="token punctuation">,</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 分页参数</span>
      timestamp<span class="token operator">:</span> timestamp<span class="token punctuation">,</span>
      <span class="token comment">// 频道id</span>
      channel_id<span class="token operator">:</span> channelId<span class="token punctuation">,</span>
      <span class="token comment">// 是否包含置顶数据</span>
      with_top<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>判断分页加载完毕</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token comment">//! 24. 进行判断 查看服务器是否有更新数据</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//! 25. 如果服务器有新的数据 那就覆盖当前储存数据的数组 实现更新</span>
        channel<span class="token punctuation">.</span>articles <span class="token operator">=</span> ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results
        <span class="token comment">//! 26. 如果服务器返回了时间戳 则替换当前数组的时间戳</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pre_timestamp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//! 把数组的时间戳 替换为服务器返回的新时间戳</span>
          channel<span class="token punctuation">.</span>timestamp <span class="token operator">=</span> ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pre_timestamp
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//! 27. 如果服务器没有更新数据 那么提示用户 没有数据更新 什么也不做</span>
        channel<span class="token punctuation">.</span>pullText <span class="token operator">=</span> <span class="token string">'没有数据更新'</span>
        <span class="token comment">//! 优化提示</span>
        channel<span class="token punctuation">.</span>articles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        channel<span class="token punctuation">.</span>timestamp <span class="token operator">=</span> ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pre_timestamp
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
</code></pre></div><p><img src="https://i.loli.net/2021/06/15/QwMXoDSdhuPWJsR.png" alt="image-20210615085726367"></p> <hr> <ul><li>基于数据id排序: 每加载一组数据(后端规定 10条一般) 服务器都会返回一个 id值 储存id值 上传到服务器 服务器根据id值 返回新的分页数据 如果id不返回 说明没有数据 分页结束</li></ul> <blockquote><p>基于时间戳接口api 例子</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 评论接口</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">comment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token string">'v1_0/comments'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 文章的id</span>
      target<span class="token operator">:</span> options<span class="token punctuation">.</span>target<span class="token punctuation">,</span>
      <span class="token comment">// 评论内容</span>
      content<span class="token operator">:</span> options<span class="token punctuation">.</span>content<span class="token punctuation">,</span>
      <span class="token comment">// 如果参数target是文章id，那么这个参数不需要</span>
      <span class="token comment">// 如果参数target是评论id，那么这个参数表示文章id(回复评论时候用到)</span>
      art_id<span class="token operator">:</span> options<span class="token punctuation">.</span>articleId
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>判断分页加载完毕</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token comment">// 判断结束的条件(评论分页是根据评论数据id来加载分页的 如果不返回新的评论数据id 就说明已经没有评论了)</span>
      <span class="token comment">// last_id是服务器返回的新评论id 需要把页面的分页参数(评论数据id)设置为 服务器返回的新评论数据id</span>
      <span class="token comment">// 如果为空(false)说明没有数据了 设置分页加载完毕的状态位</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>last_id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果还有新数据(true) 继续加载评论分页</span>
        <span class="token comment">// 把服务器返回的新评论id 设置给页面的分页参数(评论数据id)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>offset <span class="token operator">=</span> ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>last_id
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果服务器不返回新的评论id 说明已经没有评论数据了 把加载完整状态位设置为true</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span><span class="token string">'没有评论了'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
</code></pre></div><p><img src="https://i.loli.net/2021/06/15/4PQAuGRdIZkNOfn.png" alt="image-20210615201228978"></p> <h2 id="对象方式的正则表达式-regexp"><a href="#对象方式的正则表达式-regexp" class="header-anchor">#</a> 对象方式的正则表达式 <code>RegExp</code></h2> <ul><li><p><code>new RegExp</code>是正则表达式 对象方式表达 里面</p> <ul><li><p>格式: new RegExp(pattern, attributes)</p> <ul><li>参数 <em>pattern</em> 是一个字符串，指定了正则表达式的模式或其他正则表达式。(进行规则设置)</li></ul></li></ul></li> <li><p>参数 <em>attributes</em> 是一个可选的字符串，包含属性 &quot;g&quot;、&quot;i&quot; 和 &quot;m&quot;，分别用于指定全局匹配、区分大小写的匹配和多行匹配(进行全局设置)</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token comment">// kw此时包括span高亮的标签，需要去掉</span>
      <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>q<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'ig'</span><span class="token punctuation">)</span> <span class="token comment">//RegExp是正则表达式 对象模式</span>
   	  kw<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>q<span class="token punctuation">)</span> <span class="token comment">// 替换方法 replace(替换规则,替换数据)</span>
</code></pre></div><h2 id="vue的防盗链设置"><a href="#vue的防盗链设置" class="header-anchor">#</a> Vue的防盗链设置</h2> <p>在index.html中添加:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>referrer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-referrer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue-模板的三种编译方法-render"><a href="#vue-模板的三种编译方法-render" class="header-anchor">#</a> Vue 模板的三种编译方法 <code>render</code></h2> <p><a href="https://cn.vuejs.org/v2/api/#render" target="_blank" rel="noopener noreferrer">render 编译方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>Vue组件的模板由如下三种写法</p> <p>基于 <code>Vue.component()</code>  注册全局组件</p></blockquote> <ul><li>template
<ul><li>template 传统的定义组件的方式(不可以用在Vue脚手架)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-com'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">return</span> <span class="token punctuation">{</span>      msg<span class="token operator">:</span> <span class="token string">'nihao'</span>    <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
<span class="token comment">// 脚手架的开发环境不支持字符串模板，但是本质上，template在运行阶段，会自动编译成render函数  // render函数比template更加底层  template: '&lt;div&gt;{{msg}}&lt;/div&gt;  }</span>
</code></pre></div><ul><li>el
<ul><li>el 只能用在 new Vue实例场景中</li></ul></li> <li>render
<ul><li>render 更加底层的一种模板实现(可以用在Vue脚手架等特殊情况)</li> <li>render函数支持JSX语法结构（在js代码中直接写标签（HTML和组件标签））
<ul><li>要外包一层唯一的根节点(div)</li></ul></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// render是渲染组件模板 和 template效果一样 但是没人会用render写 </span>
<span class="token comment">// render 函数比 template更底层 更好编译(Vue提供)  </span>
<span class="token comment">// 脚手架环境下 template不支持 只能用 render渲染模板  </span>
            <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token comment">// render 参数1是返回自身 需要return 参数2 可以获取父组件传递过来的值    </span>
                <span class="token comment">// createElement的参数  // 参数一，表示标签名称  // 参数二，表示里面的内容子元素   </span>
                <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span> 
            <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>render 支持 JSX 可以写html标签 和 数组</p></blockquote> <ul><li>Vue的render函数支持JSX作为返回值，这个返回值本质上是虚拟DOM节点
<ul><li>在JSX中插值表达式用的单的花括号 Vue3 支持{{}} Vue2不支持</li> <li>也需要外包一层div</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token comment">// js结合标签一块写（JSX）    </span>
      <span class="token comment">// Vue 的render函数支持React的JSX语法规则</span>
      <span class="token comment">// JSX的语法结构是再js代码中写html标签和组件标签</span>
      <span class="token comment">// JSX中的标签 可以作为函数参数 返回值 也可以赋值给一个变量    </span>
      <span class="token comment">// JSX外面也要包一层div	 </span>
<span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      <span class="token keyword">return</span><span class="token punctuation">(</span>       
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>         
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>tome<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>       
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>jerry<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>       
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
      <span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>总结：</p> <ol><li>JSX：React框架提供的语法规则（在js代码中直接写HTML标签（组件标签））</li> <li>Vue的render函数支持JSX作为返回值，这个返回值本质上是虚拟DOM节点 VNode</li> <li>虚拟DOM节点VNode本质上就是对象，这个对象描述了真实的DOM元素。</li></ol></blockquote> <h2 id="scss-css扩展语言"><a href="#scss-css扩展语言" class="header-anchor">#</a> scss css扩展语言</h2> <blockquote><p>scss 原称 sass 是css扩展语言之一</p></blockquote> <ol><li>sass和less大部分规则一致</li> <li>sass支持写法嵌套</li> <li>支持变量: less是<code>@</code> sass使用的是<code>$</code></li> <li>sass混入(导出)全局样式 <code>@mixin</code>  接收混入(导入)全局样式是 <code>@include</code></li></ol> <blockquote><p>sass的部分规则</p></blockquote> <ul><li>sass中替换原类名 deep
<ul><li>sass中 deep方法是 <code>::v-deep</code> 而 less里面的方法是 <code>/deep/</code></li></ul></li></ul> <p><img src="https://i.loli.net/2021/07/06/WIbiCK6arP4HT13.png" alt="image-20210706214001467"></p> <ul><li>sass的定义变量是 <code>$</code> 而less 定义变量是 <code>@</code></li></ul> <p><img src="https://i.loli.net/2021/06/21/NCdPoaOgJQmHEL9.png" alt="image-20210621202020367"></p> <ul><li>sass的导入自己文件方式 <code>@import '路径';</code> 没有from</li></ul> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// sass 导入文件的方式 没有from 直接 @import 导入即可// 把如下的文件中的代码导入到这个位置@import './variables.scss';@import './mixin.scss';@import './transition.scss';@import './element-ui.scss';@import './sidebar.scss';@import './common.scss';</span>
</code></pre></div><ul><li>sass混入(导出)全局样式 <code>@mixin</code> 接收(导入)全局样式是 <code>@include</code></li></ul> <p><img src="https://i.loli.net/2021/06/21/9OnxNqmYL2etDAo.png" alt="image-20210621202711224"></p> <ul><li>sass文件 导入到Vue中 如果用到 <code>@</code> 需要在前面添加 <code>~</code> <ul><li>如果你不用<code>@</code> 直接 <code>../</code> 就不需要 <code>~</code></li></ul></li></ul> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// sass导入样式文件时候 需要在@前面加一个 ~符号</span>
<span class="token keyword">@import</span> <span class="token string">'~@/styles/mixin.scss'</span><span class="token punctuation">;</span>
<span class="token comment">// 但是 如果你用 ../ 就不需要加 </span>
<span class="token keyword">@import</span> <span class="token string">'../styles/mixin'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>在 scss 文件中用 <code>:export</code>全局来切换 <code>css</code> 样式 (仅支持js <code>vue的script</code>)
<ul><li>export 实现sass颜色变量可以让 JS变量共享</li></ul></li></ul> <p>一、在 scss 文件中用 <code>:export</code> 写入你要获取的变量名：</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">// vars.scss</span>
<span class="token comment">// 设置sass的颜色变量</span>
<span class="token property"><span class="token variable">$color-primary</span></span><span class="token punctuation">:</span> #3c8dbc<span class="token punctuation">;</span>
<span class="token property"><span class="token variable">$bg</span></span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
<span class="token comment">// export 可以让设置的颜色变量 变为全局 在Vue文件导入直接调用即可</span>
<span class="token selector">export </span><span class="token punctuation">{</span>  
    <span class="token property">colorPrimary</span><span class="token punctuation">:</span> <span class="token variable">$color-primary</span><span class="token punctuation">;</span> 
    <span class="token property">bgColor</span><span class="token punctuation">:</span> <span class="token variable">$bg</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>二、之后再你要导入的文件中引入这个文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'../assets/css/vars.scss'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>   
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">return</span> <span class="token punctuation">{</span>     
            <span class="token comment">// 调用设置的全局颜色</span>
            bgColor<span class="token operator">:</span> styles<span class="token punctuation">.</span>bgColor    
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="axios封装通用的接口模块"><a href="#axios封装通用的接口模块" class="header-anchor">#</a> axios封装通用的接口模块</h2> <blockquote><p>utils文件夹 一级路由 axios接口模块设置  <code>utils文件夹里面创建 request.js</code></p></blockquote> <p><img src="https://i.loli.net/2021/06/04/l4R3Z1oLAGnmx6X.png" alt="11"></p> <ul><li>配置 <code>axios.create({})</code> 分支设置url基础地址 方便操控</li> <li>调用axios方法 设置基本url路径 设置参数 配置数据
<ul><li>设置属性:  method(请求方式) , url(地址) , data(请求体) , params(请求方式参数) , headers(请求头)</li></ul></li> <li>return 返回结果</li></ul> <blockquote><p>目标: 封装通用的接口调用模块</p> <p>作用: 配置通用的<code>axios</code>接口模块 方便统一修改 统一配置 统一更换 减低耦合</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入 axios组件</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token comment">// 设置基准axios路径 用常量保存</span>
<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">'http://api-toutiao-web.itheima.net/app/'</span>
<span class="token comment">// axios分支的方法 创建axios接口调用方法 取代单一的axios方法(方便单独设置)</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// baseURL是axios属性 用来声明url基础路径(比对上面声明的常量)</span>
  baseURL<span class="token operator">:</span> baseURL
  <span class="token comment">// 超时,如果超过10秒，后端没有返回数据，那么就报错 (可以自行设置)</span>
  timeout<span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 封装通用的接口调用方法</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里的返回值是Promise实例对象</span>
    <span class="token comment">// return 返回数据 instance是声明的axios分支方法</span>
  <span class="token keyword">return</span> <span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 设置请求方式</span>
    method<span class="token operator">:</span> options<span class="token punctuation">.</span>method <span class="token operator">||</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置请求地址</span>
    url<span class="token operator">:</span> options<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
    <span class="token comment">// POST/PUT请求参数（请求体）</span>
    data<span class="token operator">:</span> options<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
    <span class="token comment">// GET请求参数（自动拼接到url地址中）</span>
    params<span class="token operator">:</span> options<span class="token punctuation">.</span>params<span class="token punctuation">,</span>
    <span class="token comment">// 设置请求头(一般用于跨域问题 和 传输token)</span>
    headers<span class="token operator">:</span> options<span class="token punctuation">.</span>headers
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="template标签复用性-嵌套"><a href="#template标签复用性-嵌套" class="header-anchor">#</a> template标签复用性(嵌套)</h2> <ul><li>template标签 一般只需要设置一个 然后再里面填写内容 但是可以嵌套多层template
<ul><li>嵌套的template可以用来同一控制标签 并且自身不会被渲染</li></ul></li> <li>注意 还是需要一层div 包裹在最外层</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 最外层包裹div标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>    
    <span class="token comment">&lt;!-- 嵌套的template可以用来同一控制标签 并且自身不会被渲染 --&gt;</span>  
    <span class="token comment">&lt;!-- 比如控制 很多div的v-if --&gt;</span>  
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>isShow<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>         
   <span class="token comment">&lt;!-- v-if 统一控制 template里面的div显示与隐藏 实现批量控制 --&gt;</span>      
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>你好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>      
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>你好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>     
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>   
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">   
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   
            <span class="token keyword">return</span><span class="token punctuation">{</span>        
                <span class="token comment">// 控制显示与隐藏              </span>
                isShow<span class="token operator">:</span>flase <span class="token comment">// 让其隐藏         </span>
            <span class="token punctuation">}</span>       
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="递归函数"><a href="#递归函数" class="header-anchor">#</a> 递归函数</h2> <p><strong>让自身函数自己调用自己 不断重复执行</strong> <strong>递归函数一定要注意，处理不当就会进入死循环。递归函数只有在特定的情况下使用 ，比如阶乘函数</strong></p> <p><font color="#ff3040">递归函数不添加return会死循环</font></p> <p><strong>递归函数的解析:</strong></p> <p><strong>1. 设置一个递归函数</strong></p> <p><img src="https://i.loli.net/2021/06/30/QhEp6cCrfFigoTy.png" alt="截图"></p> <p><strong>2. 递归的执行顺序</strong></p> <p><img src="https://i.loli.net/2021/06/30/q8j2nGeAKwIgBVo.png" alt="image-20210630093057588"></p> <p><strong>3. 递归结果</strong></p> <p>​    <img src="https://i.loli.net/2021/06/30/MVAhrlTxiKeD6BH.png" alt="截图3"></p> <h2 id="vue文件中-data"><a href="#vue文件中-data" class="header-anchor">#</a> Vue文件中 data()</h2> <blockquote><p>data() 一般用来存储数据 必须要<code>return</code>里面</p></blockquote> <ul><li><p>data()里面也可以定义函数方法 但是要写在 <code>return</code>外面</p> <ul><li>在data() 里命名函数方法 不需要this调用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 其他组件调用的时候 无需添加this 直接名称即可 要写在return外面</span>
    <span class="token keyword">const</span> <span class="token function-variable function">validateName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>       
    
        <span class="token comment">// 方法内容</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在 methods: 方法中定义函数方法</p> <ul><li>不需要写变量 和 箭头函数 需要用this调用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 调用的时候 需要添加this</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>     
    <span class="token function">validateName</span><span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          	        
        
        <span class="token comment">// 	函数方法内容   </span>
        
        <span class="token punctuation">}</span>  <span class="token punctuation">}</span>
</code></pre></div><h2 id="vue初始化data-里面指定的数据-options"><a href="#vue初始化data-里面指定的数据-options" class="header-anchor">#</a> Vue初始化data()里面指定的数据 <code>$options</code></h2></li> <li><p>一键清除data()指定内容的所有数据</p></li> <li><p>常用于清除 form表单里面的输入内容 实现初始化(一键还原)</p></li> <li><p>如果想要持续初始化 需要赋值给原数据</p></li></ul> <blockquote><p>初始form里面的数据</p></blockquote> <ul><li>常用于 通过三元表达式 动态判断标题显示的名称</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 左侧是赋值初始化后的数据 右侧是进行初始化										   // 如果不赋值给原数据 初始化组件关闭后就失效           this.formData = this.$options.data().formData</span>
</code></pre></div><h2 id="vue-动态显示不同的内容-三元表达式"><a href="#vue-动态显示不同的内容-三元表达式" class="header-anchor">#</a> Vue 动态显示不同的内容 <code>三元表达式</code></h2> <ul><li>利用三元表达式 动态判断data()中是否存在数据 动态显示不同的名称</li></ul> <p><img src="https://i.loli.net/2021/07/08/q8xoSGVJdWMsiPu.png" alt="image-20210708195404328"></p> <blockquote><p>通过 <a href="https://element.eleme.cn/#/zh-CN/component/dialog#dialog-dui-hua-kuang" target="_blank" rel="noopener noreferrer">饿了么ui对话框组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来实现动态切换标题</p></blockquote> <ul><li>查询formData里面的id是否存在
<ul><li>存在id 标题名称为编辑内容</li> <li>不存在id 标题为添加内容</li></ul></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 查询formData里面的id是否存在 如果存在id 标题名称为编辑内容 不存在id 标题为添加内容 --&gt;</span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formData.id ? <span class="token punctuation">'</span>编辑内容<span class="token punctuation">'</span> : <span class="token punctuation">'</span>添加内容<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><font color="#ff3040">注意: 因为添加内容判断的是 是否存在内容 所以添加内容完毕后 需要重置data()里面的数据</font> <ul><li>重置data()里面指定的数据  <code>$options</code> Vue提供的方法
<ul><li>重置data()里的数据后 再次判断是否存在id 显示编辑内容 才能正常</li></ul></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 左侧是赋值初始化后的数据 右侧是进行初始化										   </span>
<span class="token comment">// 如果不赋值给原数据 初始化组件关闭后就失效</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>formData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>formData
</code></pre></div><h2 id="vue动态切换类名-类名对象"><a href="#vue动态切换类名-类名对象" class="header-anchor">#</a> Vue动态切换类名 <code>类名对象</code></h2> <ul><li>在Vue中 类名支持用对象的方式 可以通过对象方式 动态设置类名
<ul><li>利用计算属性 <code>computed</code> 满足条件 才设置类名 (通过计算属性 返回true和false) true设置类名 false不设置
<ul><li>通过这种方法 可以动态设置 类名的<code>display:none</code> (显示与隐藏)</li></ul></li></ul></li></ul> <blockquote><p>例子: 动态判断类型添加 实现动态的显示与隐藏</p></blockquote> <p><a href="https://element.eleme.cn/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan" target="_blank" rel="noopener noreferrer">饿了么ui上传组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="https://i.loli.net/2021/07/06/PKcukmJ1xYLaOd8.png" alt="image-20210706220107204"></p> <ul><li>当<code>fileList</code>数组里面的图片少于一张的时候 显示添加按钮(移除隐藏样式) 大于一张的时候 显示按钮(添加隐藏样式)</li> <li>这里使用的是 <a href="https://element.eleme.cn/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan" target="_blank" rel="noopener noreferrer">饿了么ui上传组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 通过饿了么ui提供的组件 实现上传功能</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 设置上传头像的样式 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-img-upload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 调用饿了么ui 上传组件 并且绑定一些上传属性 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span> <span class="token attr-name">list-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{<span class="token punctuation">'</span>hide-plus<span class="token punctuation">'</span>: imgLen}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- list-type表示上传组件的布局形式(饿了么ui提供) --&gt;</span>
<span class="token comment">&lt;!-- :class 动态设置上传后隐藏添加按钮的css样式(动态对象设置css类名 :class={'css样式名':计算属性名判断是否满足条件布尔类型}) --&gt;</span>       
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
	<span class="token comment">// 默认的图片列表地址(也是判断是否添加隐藏类名的条件)</span>
  fileList<span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token comment">// 默认放一张图用来测试</span>
      <span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>      
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/** 设置动态隐藏的样式(添加隐藏类名) **/</span>
<span class="token selector">.my-img-upload</span> <span class="token punctuation">{</span>
  <span class="token selector">.hide-plus</span> <span class="token punctuation">{</span>
   <span class="token comment">/** ::v-deep是sass覆盖原来的css样式的方法 less是/deep/ **/</span>
    <span class="token selector">::v-deep .el-upload--picture-card</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="promise的一些同步方法"><a href="#promise的一些同步方法" class="header-anchor">#</a> Promise的一些同步方法</h2> <ul><li>Promise同步方法 所支持的一些方法</li> <li>Promise是es6的同步获取数据方法 如果想获取其中的值需要 <code>then(成功处理) catch(错误处理)</code>来操作数据 和async不同</li></ul> <blockquote><ul><li>Promise.all</li> <li>Promise.race</li></ul> <p>共同点（都是并发触发多个任务）；不同点：all保证所有任务都完成后获取异步结果；race只要有一个任务返回就得到该任务的结果，其他任务的结果不做处理</p></blockquote> <h3 id="同一时间段-触发多个同步操作-promise-all"><a href="#同一时间段-触发多个同步操作-promise-all" class="header-anchor">#</a> 同一时间段 触发多个同步操作 <code>Promise.all([ ])</code></h3> <ul><li>同一时间段 触发多个同步获取数据操作 按数组排序 依次获取</li> <li>作用是可以提升性能 减少代码量</li> <li><font color="#ff3040">通过选取  <code>Promise.all</code>形参下标(索引值)来操作接口</font></li></ul> <blockquote><p>同一时间段 触发多个同步操作 案例</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// 基于promise.all([]) 方法实现同时获取需要调用的api接口(同时调用两个接口)</span>
    <span class="token comment">// 获取顺序按数组排序获取</span>
    <span class="token function">loadRoleList</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ---------------------------------- 1. 获取所有可选的权限信息 (根据页码进行分页获取数据)</span>
      <span class="token keyword">const</span> allRoles <span class="token operator">=</span> <span class="token function">reqGetRoleList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// 根据页码分页来获取的数据</span>
        page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment">// 直接把页数条设置为最大化 获取所有数据</span>
        pagesize<span class="token operator">:</span> <span class="token number">1000</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// ----------------------------------- 2. 获取用户当前的权限信息</span>
      <span class="token keyword">const</span> currentRoles <span class="token operator">=</span> <span class="token function">getDetailInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userId<span class="token punctuation">)</span>
      <span class="token comment">// ----------------------------------- 3. 合并两个异步任务 合并到触发(按数组排序分先后)</span>
<span class="token comment">// 调用Promise同步方法的 Promise.all 合并两个异步任务一起触发(按数组排序分先后 根据其索引值 进行选中[索引值])</span>
      Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>allRoles<span class="token punctuation">,</span> currentRoles<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 调用两个接口的数据 一起触发</span>
        <span class="token comment">// 处理第一个异步任务 通过形参的下标(索引值) 获取用户可选的权限列表 </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>rows
        <span class="token comment">// 获取第二个异步 通过形参的下标(索引值 获取用户已选的权限列表</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>roleIds <span class="token operator">=</span> results<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>roleIds
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 处理错误的信息</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'获取角色列表数据失败'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="同一时间段-触发多和同步操作-但只取最先返回-promise-race"><a href="#同一时间段-触发多和同步操作-但只取最先返回-promise-race" class="header-anchor">#</a> 同一时间段 触发多和同步操作 但只取最先返回 <code>Promise.race([ ])</code></h3> <ul><li>同一时间段 方发多个同步操作 但是只要有一个任务返回就得到该任务的结果，其他任务的结果不做处理</li> <li>操作方法和<code>Promise.all([ ])</code>一致 就不演示了</li></ul> <h2 id="设置路由的懒加载-按需加载-component-重要"><a href="#设置路由的懒加载-按需加载-component-重要" class="header-anchor">#</a> 设置路由的懒加载(按需加载) <code>component 重要</code></h2> <ul><li>普通导入路由的时候 页面如果加载 会把所有路由组件都加在进来</li> <li>当设置路由懒加载的时候 不会一次性加载所有配置的路由 页面加载更快</li></ul> <blockquote><p>普通导入路由的方法</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>路由懒加载导入方法</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
        <span class="token comment">// 这里是导入组件的Home路径</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Home.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
      <span class="token comment">// 这里是导入组件的About路径</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/About.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>通过变量方法设置懒加载 (Vue3)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 导入Vue router Vu3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">// 声明常量的方式按需配置路由(变量方式配置路由懒加载)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Layout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/layout'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/home'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 一级路由</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 二级路由</span>
      <span class="token comment">// 导入路由的懒加载</span>
      <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Home <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 设置hash路径方式</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 映射 routes配置的路由</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 导出router实例化对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router

</code></pre></div><h2 id="vue的按需导入组件-import"><a href="#vue的按需导入组件-import" class="header-anchor">#</a> Vue的按需导入组件 <code>import</code></h2> <ul><li>按需导入指的是 当该组件功能用到的时候 才会加载该内容 (普通导入在页面加载时候 就会加载)</li> <li>按需导入可以提高页面打开效率 常用于导入大文件的时候使用(超过50kb)</li></ul> <blockquote><p>普通的导入方法</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> demo <span class="token keyword">from</span> <span class="token string">'导入的路径'</span> <span class="token comment">// 方式导入 打开页面会加载</span>
</code></pre></div><blockquote><p>按需导入的方法</p></blockquote> <ul><li>使用的时候 再导入该组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/vendor/Export2Excel'</span><span class="token punctuation">)</span> <span class="token comment">// 使用组件的时候 再import导入</span>
</code></pre></div><h2 id="vue中的echarts使用方法"><a href="#vue中的echarts使用方法" class="header-anchor">#</a> Vue中的echarts使用方法</h2> <ul><li>echarts基本使用流程
<ul><li>安装依赖包</li> <li>导入echarts</li> <li>准备一个图表的填充位置</li> <li>调用echarts提供的方法初始化图表到填充位</li> <li>图表的效果由options提供（来源于官方案例）</li></ul></li></ul> <blockquote><p><strong><code>目标</code></strong>：封装一个echarts中的雷达图表显示在首页的绩效指数的位置</p></blockquote> <p><font color="#ff3040"><strong>第一步， 安装echarts图表</strong></font></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> echarts
</code></pre></div><blockquote><p>echarts是一个很大的包，里面包含了众多图形，假设我们只使用雷达图，可以做按需加载</p></blockquote> <p><font color="#ff3040">第二步， 新建雷达图组件</font></p> <ul><li><p>路径: <strong><code>src/views/dashboard/components/WorkChart.vue</code></strong> (在components里面设置 导入到页面组件上)</p> <ul><li>组件设置好后 用<code>components</code>方法导入进来</li></ul></li> <li><p>按需导入需求的模块 (测试使用的是假数据)</p></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 雷达图  图表必须给高和宽度--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>workChart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>work-chart<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 完整加载过程</span>
<span class="token comment">// import * as echarts from 'echarts'</span>
<span class="token comment">// 按需加载</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> echarts <span class="token keyword">from</span> <span class="token string">'echarts/core'</span> <span class="token comment">// 引入主模块</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RadarChart <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'echarts/charts'</span> <span class="token comment">// 引入雷达图</span>
<span class="token comment">// 引入提示框和标题组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> TitleComponent<span class="token punctuation">,</span> TooltipComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'echarts/components'</span>
<span class="token comment">// 引入canvas渲染器</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CanvasRenderer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'echarts/renderers'</span>
<span class="token comment">// 注册必须的组件</span>
echarts<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>TitleComponent<span class="token punctuation">,</span> TooltipComponent<span class="token punctuation">,</span> RadarChart<span class="token punctuation">,</span> CanvasRenderer<span class="token punctuation">]</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 页面渲染完毕事件</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>myDiv<span class="token punctuation">)</span> <span class="token comment">// 得到图表实例</span>
    myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'基础雷达图'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      legend<span class="token operator">:</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'平均水平'</span><span class="token punctuation">,</span> <span class="token string">'个人价值'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      radar<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// shape: 'circle',</span>
        name<span class="token operator">:</span> <span class="token punctuation">{</span>
          axisName<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
            backgroundColor<span class="token operator">:</span> <span class="token string">'#999'</span><span class="token punctuation">,</span>
            borderRadius<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            padding<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        indicator<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'工作效率'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'考勤'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'积极性'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'帮助同事'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'自主学习'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'正确率'</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'平均 vs 个人'</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'radar'</span><span class="token punctuation">,</span>
        <span class="token comment">// areaStyle: {normal: {}},</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            value<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'平均水平'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            value<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'个人价值'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.work-chart</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>总结：</p> <ol><li>echarts如何在Vue脚手架环境下使用</li> <li>需要使用mounted生命周期（保证可以获取DOM元素填充位）</li> <li>新版本的echarts按需导入的新的用法</li></ol> <h2 id="vue-router-两种跳转方法-path和fullpath"><a href="#vue-router-两种跳转方法-path和fullpath" class="header-anchor">#</a> Vue-router 两种跳转方法 <code>path</code>和<code>fullPath</code></h2> <ul><li><code>fullPath</code>是路由全地址 带参数</li> <li><code>path</code>是路径，不带参数</li></ul> <blockquote><p>跳转案例(携带参数)</p></blockquote> <p>如：192.168.0.1/index?page=1</p> <ul><li><code>fullPath</code>为/index?page=1</li> <li><code>path</code>为/index</li></ul> <h2 id="把数字转换成千分格式-每三位加一个逗号-和格式化时间"><a href="#把数字转换成千分格式-每三位加一个逗号-和格式化时间" class="header-anchor">#</a> 把数字转换成千分格式(每三位加一个逗号) 和格式化时间</h2> <ul><li><code>toLocaleString()</code> 方法可以格式化数字 把数字格式转换成千分格式(每三位加一个逗号)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">200000000</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//200,000,000</span>
</code></pre></div><ul><li><code>toLocaleString()</code> 该方法也可以快速格式化默认时间 格式是<code>2021/8/6下午7:44:27</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> d<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n<span class="token operator">=</span>d<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token comment">// 2021/8/6下午7:44:27</span>
</code></pre></div><blockquote><p>格式化后时间格式</p></blockquote> <p><img src="https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/image-20210806205525797.png" alt="image-20210806205525797"></p> <h2 id="把url地址进行编码-encodeuricomponent"><a href="#把url地址进行编码-encodeuricomponent" class="header-anchor">#</a> 把url地址进行编码 <code>encodeURIComponent()</code></h2> <ul><li><code>encodeURIComponent()</code>方法可以对url地址进行编码 防止两个url重叠 出现问题</li> <li>常用于 主url地址需要拼接另一个url地址 为了防止拼接的url地址妨碍主url地址 就需要给要拼接url地址进行编码</li></ul> <blockquote><p>两个url地址拼接例子</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 主url地址</span>
<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">'https://apipc-xiaotuxian-front.itheima.net'</span>
<span class="token comment">// 要拼接的url地址</span>
<span class="token keyword">const</span> redirect <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'http://www.corho.com:8080/#/pay/callback'</span><span class="token punctuation">)</span>
<span class="token comment">// 两个url地址进行拼接</span>
<span class="token keyword">const</span> payUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>redirect<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// 转码拼接的结果</span>
<span class="token comment">//https://apipc-xiaotuxian-front.itheima.nethttp%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Fpay%2Fcallback</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>payUrl<span class="token punctuation">)</span> 
</code></pre></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/8/6 下午11:17:12</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><APlayer audio="" fixed="true" mini="true" theme="#647ea0" loop="loop" order="list" preload="auto" volume="0.3" mutex="true" lrc-type="0" list-folded="true" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div id="goTop" class="hide-cat" data-v-bf92849a></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 LKaiLi
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="120" height="322" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div></div></div>
    <script src="/assets/js/app.e4374b48.js" defer></script><script src="/assets/js/5.dee44220.js" defer></script><script src="/assets/js/1.064c88d4.js" defer></script><script src="/assets/js/37.111e6587.js" defer></script>
  </body>
</html>
