<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex çš„é£Ÿç”¨æ–¹æ³• | LKaiLi</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://pan.zealsay.com/blog/favicon.ico">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/mouseClick.js"></script>
    <script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b0aae218897fa9d8a9f76e9a77e0b3c6";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
        </script>
    <meta name="description" content="è‰ èµ° ğŸ¤¸ å¿½ç•¥">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.40190656.css" as="style"><link rel="preload" href="/assets/js/app.30af913f.js" as="script"><link rel="preload" href="/assets/js/5.cf8e9e04.js" as="script"><link rel="preload" href="/assets/js/1.0362ac49.js" as="script"><link rel="preload" href="/assets/js/18.727d55e9.js" as="script"><link rel="prefetch" href="/assets/js/10.d3fc6e0e.js"><link rel="prefetch" href="/assets/js/11.f3d80a07.js"><link rel="prefetch" href="/assets/js/12.c16c8515.js"><link rel="prefetch" href="/assets/js/13.5d54322a.js"><link rel="prefetch" href="/assets/js/14.87bbe7c3.js"><link rel="prefetch" href="/assets/js/15.d61328fb.js"><link rel="prefetch" href="/assets/js/16.912511c5.js"><link rel="prefetch" href="/assets/js/17.d924b9fb.js"><link rel="prefetch" href="/assets/js/19.a96daa73.js"><link rel="prefetch" href="/assets/js/20.6ddc23af.js"><link rel="prefetch" href="/assets/js/21.cf22083b.js"><link rel="prefetch" href="/assets/js/22.b4662e76.js"><link rel="prefetch" href="/assets/js/23.e42bc5fd.js"><link rel="prefetch" href="/assets/js/24.dc3fb655.js"><link rel="prefetch" href="/assets/js/25.ae4f34da.js"><link rel="prefetch" href="/assets/js/26.ec20ec98.js"><link rel="prefetch" href="/assets/js/27.056eb4c0.js"><link rel="prefetch" href="/assets/js/28.138c36c8.js"><link rel="prefetch" href="/assets/js/29.66835100.js"><link rel="prefetch" href="/assets/js/3.dca7de66.js"><link rel="prefetch" href="/assets/js/30.e19bfaee.js"><link rel="prefetch" href="/assets/js/31.c32a4855.js"><link rel="prefetch" href="/assets/js/32.6ed4b41a.js"><link rel="prefetch" href="/assets/js/33.760d627f.js"><link rel="prefetch" href="/assets/js/34.a2420830.js"><link rel="prefetch" href="/assets/js/35.7595122f.js"><link rel="prefetch" href="/assets/js/36.a6ca7c6f.js"><link rel="prefetch" href="/assets/js/37.43e034b3.js"><link rel="prefetch" href="/assets/js/38.3aeaa3e0.js"><link rel="prefetch" href="/assets/js/39.615f1d29.js"><link rel="prefetch" href="/assets/js/4.6a82a72f.js"><link rel="prefetch" href="/assets/js/40.caf2cf01.js"><link rel="prefetch" href="/assets/js/6.dfbf8e28.js"><link rel="prefetch" href="/assets/js/7.8f635830.js"><link rel="prefetch" href="/assets/js/8.3c69dc79.js"><link rel="prefetch" href="/assets/js/9.af116de0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.40190656.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1dc90b28><div data-v-1dc90b28><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1dc90b28 data-v-1dc90b28><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-5cb9a64e data-v-1dc90b28 data-v-1dc90b28><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>LKaiLi</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>LKaiLi</span>
          Â Â 
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1dc90b28><div data-v-1dc90b28><div id="smart" class="wrapper-page" style="background-image:url(https://tva2.sinaimg.cn/large/005INI3Xly8grlo28ue3tj31hc0u0q8z.jpg);background-position-x:center;background-position-y:center;background-size:cover;background-repeat-x:no-repeat;background-repeat-y:no-repeat;" data-v-1dc90b28><header class="navbar" data-v-1dc90b28><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="LKaiLi" class="logo"> <span class="site-name">LKaiLi</span></a> <div class="links"><div id="dayNightSwitch" class="generalWrapper" data-v-32f44868><a class="click" data-v-32f44868><div class="onOff daySwitch" data-v-32f44868><div class="star star1" data-v-32f44868></div> <div class="star star2" data-v-32f44868></div> <div class="star star3" data-v-32f44868></div> <div class="star star4" data-v-32f44868></div> <div class="star star5" data-v-32f44868></div> <div class="star sky" data-v-32f44868></div> <div class="sunMoon" data-v-32f44868><div class="crater crater1" data-v-32f44868></div> <div class="crater crater2" data-v-32f44868></div> <div class="crater crater3" data-v-32f44868></div> <div class="cloud part1" data-v-32f44868></div> <div class="cloud part2" data-v-32f44868></div></div></div></a></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS æ–¹æ³•åˆé›†/" class="nav-link"><i class="iconfont undefined"></i>
  JS æ–¹æ³•åˆé›†
</a></li><li class="dropdown-item"><!----> <a href="/categories/æ­£åˆ™è¡¨è¾¾å¼/" class="nav-link"><i class="iconfont undefined"></i>
  æ­£åˆ™è¡¨è¾¾å¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vueç§»åŠ¨å¤´æ¡é¡¹ç›®/" class="nav-link"><i class="iconfont undefined"></i>
  Vueç§»åŠ¨å¤´æ¡é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/categories/axios/" class="nav-link"><i class="iconfont undefined"></i>
  axios
</a></li><li class="dropdown-item"><!----> <a href="/categories/tokenç»­ç­¾/" class="nav-link"><i class="iconfont undefined"></i>
  tokenç»­ç­¾
</a></li><li class="dropdown-item"><!----> <a href="/categories/TCPåè®®/" class="nav-link"><i class="iconfont undefined"></i>
  TCPåè®®
</a></li><li class="dropdown-item"><!----> <a href="/categories/èŠ‚æµã€é˜²æŠ–å‡½æ•°/" class="nav-link"><i class="iconfont undefined"></i>
  èŠ‚æµã€é˜²æŠ–å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/categories/æ‚é¡¹/" class="nav-link"><i class="iconfont undefined"></i>
  æ‚é¡¹
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      å…³äºæ’­å®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/" class="nav-link"><i class="iconfont reco-account"></i>
  å…³äºæˆ‘
</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont reco-mail"></i>
  è”ç³»æˆ‘
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1dc90b28></div> <aside class="sidebar" data-v-1dc90b28><div class="personal-info-wrapper" data-v-03833281 data-v-1dc90b28><img src="https://i.loli.net/2021/05/17/rRzqv6kGHwATM41.png" alt="author-avatar" class="personal-img" data-v-03833281> <h3 class="name" data-v-03833281>
    LKaiLi
  </h3> <div class="num" data-v-03833281><div data-v-03833281><h3 data-v-03833281>27</h3> <h6 data-v-03833281>æ–‡ç« </h6></div> <div data-v-03833281><h3 data-v-03833281>14</h3> <h6 data-v-03833281>æ ‡ç­¾</h6></div></div> <hr data-v-03833281></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS æ–¹æ³•åˆé›†/" class="nav-link"><i class="iconfont undefined"></i>
  JS æ–¹æ³•åˆé›†
</a></li><li class="dropdown-item"><!----> <a href="/categories/æ­£åˆ™è¡¨è¾¾å¼/" class="nav-link"><i class="iconfont undefined"></i>
  æ­£åˆ™è¡¨è¾¾å¼
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vueç§»åŠ¨å¤´æ¡é¡¹ç›®/" class="nav-link"><i class="iconfont undefined"></i>
  Vueç§»åŠ¨å¤´æ¡é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/categories/axios/" class="nav-link"><i class="iconfont undefined"></i>
  axios
</a></li><li class="dropdown-item"><!----> <a href="/categories/tokenç»­ç­¾/" class="nav-link"><i class="iconfont undefined"></i>
  tokenç»­ç­¾
</a></li><li class="dropdown-item"><!----> <a href="/categories/TCPåè®®/" class="nav-link"><i class="iconfont undefined"></i>
  TCPåè®®
</a></li><li class="dropdown-item"><!----> <a href="/categories/èŠ‚æµã€é˜²æŠ–å‡½æ•°/" class="nav-link"><i class="iconfont undefined"></i>
  èŠ‚æµã€é˜²æŠ–å‡½æ•°
</a></li><li class="dropdown-item"><!----> <a href="/categories/æ‚é¡¹/" class="nav-link"><i class="iconfont undefined"></i>
  æ‚é¡¹
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      å…³äºæ’­å®¢
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/" class="nav-link"><i class="iconfont reco-account"></i>
  å…³äºæˆ‘
</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link"><i class="iconfont reco-mail"></i>
  è”ç³»æˆ‘
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/docs/Vue/1_Vue_what.html" class="sidebar-link">Vue æ¸è¿›å¼ç¼–ç¨‹çš„ä»‹ç»</a></li><li><a href="/blogs/docs/Vue/2_Vuex.html" aria-current="page" class="active sidebar-link">Vuex çš„é£Ÿç”¨æ–¹æ³•</a></li><li><a href="/blogs/docs/Vue/3_Dom.html" class="sidebar-link">Vueåº•å±‚çš„è™šæ‹ŸDomæ ‘</a></li><li><a href="/blogs/docs/Vue/4_v-model_modifier.html" class="sidebar-link">v-model ä¿®é¥°ç¬¦</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-5cb9a64e data-v-1dc90b28><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>Vuex çš„é£Ÿç”¨æ–¹æ³•</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>LKaiLi</span>
          Â Â 
          <!---->
          2021
        </a></span></div></div></div> <div data-v-1dc90b28><main class="page"><div class="page-title" style="display:none;"><h1 class="title">Vuex çš„é£Ÿç”¨æ–¹æ³•</h1> <div class="page-info" data-v-0efa1f05><i class="iconfont reco-account" data-v-0efa1f05><span data-v-0efa1f05>LKaiLi</span></i> <i class="iconfont reco-date" data-v-0efa1f05><span data-v-0efa1f05>2021-06-29</span></i> <i class="iconfont reco-eye" data-v-0efa1f05><span id="/blogs/docs/Vue/2_Vuex.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-0efa1f05><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-0efa1f05><span class="tag-item" data-v-0efa1f05>Vue</span><span class="tag-item" data-v-0efa1f05>Vuex</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p class="custom-block-title">ä»‹ç»</p> <p>Vuex çš„æ“ä½œæµç¨‹<br></p></div> <h2 id="å…³äºvuex"><a href="#å…³äºvuex" class="header-anchor">#</a> å…³äº<code>VueX</code></h2> <p><code>VueX</code>æ˜¯é€‚ç”¨äºåœ¨<code>Vue</code>é¡¹ç›®å¼€å‘æ—¶ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥<code>data</code>ä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œã€‚ä¸ºæ­¤ï¼Œ<code>Vue</code>ä¸ºè¿™äº›è¢«å¤šä¸ªç»„ä»¶é¢‘ç¹ä½¿ç”¨çš„å€¼æä¾›äº†ä¸€ä¸ªç»Ÿä¸€ç®¡ç†çš„å·¥å…·â€”â€”<code>VueX</code>ã€‚åœ¨å…·æœ‰<code>VueX</code>çš„Vueé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™äº›å€¼å®šä¹‰åœ¨VueXä¸­ï¼Œå³å¯åœ¨æ•´ä¸ªVueé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨</p> <blockquote><p>å­¦ä¹ ç›®æ ‡: <font color="#ff3040"> æŒæ¡Vuexçš„äº”ä¸ªå•ä¸€çŠ¶æ€æ ‘Â </font>(state,mutations,action,getters,modules)</p></blockquote> <h2 id="ç»„ä»¶ä¹‹é—´ä¼ å€¼"><a href="#ç»„ä»¶ä¹‹é—´ä¼ å€¼" class="header-anchor">#</a> ç»„ä»¶ä¹‹é—´ä¼ å€¼</h2> <p><a href="https://vuex.vuejs.org/zh/api/#vuex-store" target="_blank" rel="noopener noreferrer">VuexAPI å‚è€ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>ç›®æ ‡ï¼šç†Ÿæ‚‰ç»„ä»¶ä¹‹é—´ä¼ å€¼çš„å„ç§æƒ…å†µï¼ˆå…³æ³¨éçˆ¶å­ä¹‹é—´ä¼ å€¼ï¼‰</p></blockquote> <ul><li>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ props</li> <li>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ $emit</li> <li>éçˆ¶å­ç»„ä»¶ä¹‹é—´ä¼ å€¼ : çˆ·å­™ï¼›å…„å¼Ÿ
<ul><li>å‘å¸ƒè®¢é˜…æ¨¡å¼ , å°±ç§°ä¹‹ä¸ºç»„ä»¶ä¹‹é—´ä¼ å€¼(éœ€è¦æœ‰ä¸€ä¸ªä¸­ä»‹)</li></ul></li></ul> <p><img src="https://i.loli.net/2021/06/18/XhCStJlmnbfvIip.png" alt="image-20210121084735174"></p> <h2 id="å…„å¼Ÿç»„ä»¶ç®€å•ä¼ å€¼æ–¹å¼-å‘å¸ƒä¸­ä»‹"><a href="#å…„å¼Ÿç»„ä»¶ç®€å•ä¼ å€¼æ–¹å¼-å‘å¸ƒä¸­ä»‹" class="header-anchor">#</a> å…„å¼Ÿç»„ä»¶ç®€å•ä¼ å€¼æ–¹å¼(å‘å¸ƒä¸­ä»‹)</h2> <blockquote><p>ç¬¬ä¸€æ­¥ å…ˆnew Vue() å…¨å±€Vueå®ä¾‹åŒ–å¯¹è±¡(ä¸­ä»‹) é€šå¸¸è®¾ç½®åœ¨æ€»å…¥å£æ–‡ä»¶</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//! åˆ›å»ºä¸€ä¸ªVueå®ä¾‹å¯¹è±¡</span>
<span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//! æŠŠåˆ›å»ºçš„Vueå¯¹è±¡æ·»åŠ åˆ°Vueæ„é€ å‡½æ•°çš„åŸå‹ä¸Šï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½å¯ä»¥è·å–è¯¥å¯¹è±¡</span>
<span class="token comment">//! æ‰€æœ‰çš„ç»„ä»¶éƒ½æ˜¯Vueæ„é€ å‡½æ•°çš„å®ä¾‹ (åç§°å¯ä»¥è‡ªå®šä¹‰)</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>eventBus <span class="token operator">=</span> eventBus
</code></pre></div><blockquote><p>ç¬¬äºŒæ­¥ åœ¨Vueä¸­è®¾ç½® è®¾ç½®æ•°å€¼ æ¥æ”¶æ•°å€¼ <code>script</code>è„šæœ¬ <code>methods:</code>æ–¹æ³•</p></blockquote> <ul><li>msgæ˜¯åœ¨data()ä¸­ è®¾ç½®çš„æ•°æ®</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾ç½®ä¸€ä¸ªå…„å¼Ÿç»„ä»¶çš„å€¼(ç‚¹å‡»äº‹ä»¶)</span>
    <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// vueä¸­ä½¿ç”¨ $emit(eventName) è§¦å‘äº‹ä»¶ï¼Œ</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'msg-abc'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><blockquote><p>ç¬¬ä¸‰æ­¥ åœ¨å…„å¼Ÿç»„ä»¶ä¸­ æ¥æ”¶ä¼ æ¥çš„æ•°å€¼ <code>script</code>è„šæœ¬ <code>created()</code>ç”Ÿå‘½å‘¨æœŸ</p></blockquote> <ul><li>receiveMsgæ˜¯åœ¨data()ä¸­ è®¾ç½®çš„æ•°æ®</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä½¿ç”¨ $on(eventName) ç›‘å¬äº‹ä»¶</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'msg-abc'</span><span class="token punctuation">,</span> <span class="token parameter">ret</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>receiveMsg <span class="token operator">=</span> ret
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="vuexçŠ¶æ€ç®¡ç†å¿…è¦æ€§åˆ†æ"><a href="#vuexçŠ¶æ€ç®¡ç†å¿…è¦æ€§åˆ†æ" class="header-anchor">#</a> VuexçŠ¶æ€ç®¡ç†å¿…è¦æ€§åˆ†æ</h2> <ul><li>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„<strong>è§„åˆ™</strong>ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</li> <li>å¦‚æœä½¿ç”¨äº†Vuexï¼Œå°±å¯ä»¥<strong>éå¸¸æ–¹ä¾¿</strong>çš„è¿›è¡Œå¤æ‚çš„ç»„ä»¶ä¹‹é—´æ•°æ®ä¼ é€’ï¼ˆéçˆ¶å­å…³ç³»ï¼‰</li></ul> <blockquote><p><img src="https://tva2.sinaimg.cn/large/005INI3Xly8grmau56oncj30iq08277j.jpg" alt="Snipaste_2021-06-18_09-44-12"></p></blockquote> <p>æ€»ç»“ï¼š</p> <ol><li>æ‰€æœ‰ç»„ä»¶çš„æ•°æ®è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼ˆå­˜å‚¨å’Œå˜æ›´ï¼‰ï¼Œæ¯ä¸ªç»„ä»¶å†…éƒ¨å°±ä¸å†éœ€è¦ç»´æŠ¤è¿™äº›æ•°æ®äº†</li> <li>æ•°æ®å˜æ›´æ—¶ï¼Œç»Ÿä¸€ä¿®æ”¹Storeä¸­æ•°æ®å³å¯ï¼Œç»„ä»¶ä¸­ç”¨åˆ°è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ä¼šè‡ªåŠ¨æ›´æ–°ï¼ˆæ•°æ®æ˜¯å“åº”å¼çš„ï¼‰</li></ol> <h2 id="vuexçš„å®ç°åŸç†"><a href="#vuexçš„å®ç°åŸç†" class="header-anchor">#</a> Vuexçš„å®ç°åŸç†</h2> <blockquote><p>ç›®æ ‡ï¼šç†Ÿæ‚‰Vuexæ˜¯å¦‚ä½•å®ç°ä¸Šè¿°é›†ä¸­ç®¡ç†ç»„ä»¶æ•°æ®è¿™ç§æ€æƒ³ï¼ˆæ¨¡å¼ï¼‰çš„</p></blockquote> <p><img src="https://i.loli.net/2021/06/18/kRCPx5DBYwNypVd.png" alt="image-20210119224725242"></p> <ul><li>state ç®¡ç†ç»„ä»¶æ•°æ®ï¼Œç®¡ç†çš„æ•°æ®æ˜¯å“åº”å¼çš„ï¼Œå½“æ•°æ®æ”¹å˜æ—¶é©±åŠ¨è§†å›¾æ›´æ–°ã€‚</li> <li>mutations æ›´æ–°æ•°æ®ï¼Œstateä¸­çš„æ•°æ®åªèƒ½ä½¿ç”¨mutationså»æ”¹å˜æ•°æ®ï¼ˆåªèƒ½å¤„ç†åŒæ­¥çš„åœºæ™¯ï¼‰</li> <li>actions è¯·æ±‚æ•°æ®ï¼Œå“åº”æˆåŠŸåæŠŠæ•°æ®æäº¤ç»™mutations è¿›è€Œæ›´æ–°stateï¼ˆå¯ä»¥å¤„ç†å¼‚æ­¥çš„åœºæ™¯ æ¥å£è·å–çš„æ•°æ®ï¼‰</li> <li>DevtoolsæŒ‡çš„æ˜¯æµè§ˆå™¨çš„Vueæ’ä»¶è°ƒè¯•å·¥å…· ä»–å¯ä»¥ç›‘æ§æ•°æ®çš„æ‰€æœ‰å˜æ›´æ“ä½œ</li></ul> <p><img src="https://i.loli.net/2021/06/18/Ivyd1EQ4mbxBG8c.png" alt="image-20210123111136131"></p> <ul><li>gettersç›¸å½“äºåœ¨Stateå’Œç»„ä»¶ä¹‹é—´æ·»åŠ ä¸€ä¸ªç¯èŠ‚ï¼ˆå¯¹stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†åå†æä¾›ç»™ç»„ä»¶ï¼‰</li> <li>gettersä¸è¦ä¿®æ”¹stateä¸­çš„æ•°æ®</li></ul> <h2 id="vuexçš„å®‰è£…"><a href="#vuexçš„å®‰è£…" class="header-anchor">#</a> Vuexçš„å®‰è£…</h2> <ul><li>å•ç‹¬ npm VuexåŒ…</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i vuex --save/-S
</code></pre></div><ul><li>åœ¨è„šæ‰‹æ¶ä¸­å®‰è£…</li></ul> <p><img src="https://tva2.sinaimg.cn/large/005INI3Xly8groqcnpbzyj30c105pwec.jpg" alt="image-20210618121505711"></p> <h2 id="å‚¨å­˜æ•°æ®-state"><a href="#å‚¨å­˜æ•°æ®-state" class="header-anchor">#</a> å‚¨å­˜æ•°æ® <code>state</code></h2> <p><a href="https://vuex.vuejs.org/zh/guide/state.html" target="_blank" rel="noopener noreferrer">å‚¨å­˜æ•°æ® state<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>çŠ¶æ€stateç”¨äºå­˜å‚¨æ‰€æœ‰ç»„ä»¶çš„æ•°æ®ã€‚</p></blockquote> <ul><li>ç”¨äºå‚¨å­˜Vuexé‡Œé¢çš„æ•°æ®</li> <li><font color="#ff3040">æ³¨æ„: æ­¤æ–¹æ³•å†™åœ¨ Vueè®¡ç®—å±æ€§<code>computed:</code>Â é‡Œé¢</font></li></ul> <h3 id="å®šä¹‰-stateç®¡ç†æ•°æ®"><a href="#å®šä¹‰-stateç®¡ç†æ•°æ®" class="header-anchor">#</a> å®šä¹‰ <code>state</code>ç®¡ç†æ•°æ®</h3> <ul><li>è®¾ç½®stateç®¡ç†æ•°æ® <code>storeæ–‡ä»¶å¤¹ ä¸­ index.js</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¯¼å…¥Vuex</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">// å¯¼å‡ºstoreå®ä¾‹åŒ–å¯¹è±¡(Vuex) è°ƒç”¨æ—¶ $store</span>
<span class="token comment">// åˆå§‹åŒ–vuexå¯¹è±¡</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token comment">// state: å‚¨å­˜ç»„ä»¶çš„æ‰€æœ‰æ•°æ®</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç®¡ç†æ•°æ®</span>
    count<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>åœ¨Vueæ–‡ä»¶ è°ƒç”¨stateå‚¨å­˜çš„æ•°æ® <code>template</code>æ¨¡æ¿</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Aç»„ä»¶ stateçš„æ•°æ®ï¼š{{$store.state.count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Aç»„ä»¶ stateçš„æ•°æ®ï¼š{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="ç®€å•å¯¼å…¥æ–¹æ³•-éé‡ç‚¹"><a href="#ç®€å•å¯¼å…¥æ–¹æ³•-éé‡ç‚¹" class="header-anchor">#</a> ç®€å•å¯¼å…¥æ–¹æ³•(éé‡ç‚¹)</h3> <blockquote><p>åŸºäºè„šæ‰‹æ¶ç¯å¢ƒä¸‹ å¯¼å…¥stateç®¡ç†æ•°æ®</p></blockquote> <ul><li><code>script</code> è„šæœ¬ <code>computed:</code>è®¡ç®—å±æ€§
<ul><li>ç›´æ¥$store ä¹Ÿå¯ä»¥ç”¨  <code>computed:</code>è®¡ç®—å±æ€§ è°ƒç”¨</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æŠŠstateä¸­æ•°æ®ï¼Œå®šä¹‰åœ¨ç»„ä»¶å†…çš„è®¡ç®—å±æ€§ä¸­</span>
computed<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. æœ€å®Œæ•´çš„å†™æ³•</span>
  <span class="token comment">// count: function () {</span>
  <span class="token comment">//   return this.$store.state.count</span>
  <span class="token comment">// },</span>
  <span class="token comment">// 2. ç¼©å†™</span>
  <span class="token function">count</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¸èƒ½ä½¿ç”¨å‰ªå¤´å‡½æ•°  thisæŒ‡å‘çš„ä¸æ˜¯vueå®ä¾‹</span>
</code></pre></div><h3 id="mapstate-æ–¹æ³•å¯¼å…¥æ•°æ®-é‡ç‚¹"><a href="#mapstate-æ–¹æ³•å¯¼å…¥æ•°æ®-é‡ç‚¹" class="header-anchor">#</a> <code>mapState</code> æ–¹æ³•å¯¼å…¥æ•°æ® <code>é‡ç‚¹</code></h3> <blockquote><p>ç›®æ ‡: ç®€åŒ–å¯¼å…¥storeæ•°æ®çš„ä»£ç </p> <p>æ–¹æ¡ˆ: è°ƒç”¨<code>mapState</code> å¯¼å…¥å¤šä¸ªstoreæ•°æ®</p> <p>mapStateä½œç”¨ï¼šå¯ä»¥è¾…åŠ©è·å–åˆ°å¤šä¸ªstateçš„å€¼(Vuexè‡ªå¸¦ ä½†éœ€è¦å¯¼å…¥)</p></blockquote> <ul><li><code>template</code>æ¨¡æ¿</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¯¼å…¥è®¡ç®—å±æ€§computed: è·å–çš„ stateæ•°å€¼ (å®é™…ä¸Šæ˜¯å¯¹è±¡) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{demo}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{abc}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>script</code>è„šæœ¬
<ul><li>æŠŠvuexä¸­çš„stateæ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸­ã€‚(å¯¼å…¥<code>mapState</code>)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬ <code>computed:</code>è®¡ç®—å±æ€§
<ul><li>è°ƒç”¨<code>mapState</code>è®¾ç½®æ–¹æ³• é€šè¿‡ <code>computed:</code>è®¡ç®—å±æ€§æ¥å£°æ˜</li> <li>åˆ©ç”¨ç»“æ„èµ‹å€¼<code>...</code> ä¸å½±å“è®¡ç®—å±æ€§å…¶ä»–æ–¹æ³•</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ç”¨mapStateæ¥ç”Ÿæˆè®¡ç®—å±æ€§  mapStateå‡½æ•°è¿”å›å€¼æ˜¯å¯¹è±¡</span>
<span class="token comment">// ä½¿ç”¨mapStateä½¿ç”¨å¯¹è±¡ä¼ å‚</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// åœ¨è®¡ç®—å±æ€§ä¸­ å¯¼å…¥Vuex stateä¸­çš„å€¼</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç»“æ„èµ‹å€¼... ç›¸å½“äºåœ¨computedè®¡ç®—å±æ€§ä¸­å¯¼å…¥è¿™ä¸¤ä¸ªæ•°å€¼</span>
    <span class="token comment">// ç»“æ„èµ‹å€¼... å¯ä»¥å¯¼å…¥æ•°å€¼ ä¹Ÿå¯å¯¼å…¥å¯¹è±¡</span>
     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'demo'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// è°ƒç”¨stateä¸­å‚¨å­˜çš„å±æ€§å(å®é™…ä¸Šæ˜¯å¯¹è±¡)</span>
   
      <span class="token comment">// ç­‰åŒäºè¿™ç§å†™æ³•</span>
      <span class="token comment">// å†’å·å·¦è¾¹æ˜¯stateä¸­å‚¨å­˜çš„å±æ€§å</span>
      <span class="token comment">// å†’å·å³è¾¹æ˜¯ è·å–åˆ°stateä¸­å‚¨å­˜æ•°æ®çš„è‡ªå®šä¹‰åç§°</span>
      <span class="token comment">// ...mapState({</span>
   <span class="token comment">//   demo: 'demo'</span>
  <span class="token comment">//    abc: 'abc'</span>
<span class="token comment">//    })</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ€»ç»“ï¼š</p> <p>1ã€æ˜¯å¦ç»„ä»¶çš„æ‰€æœ‰æ•°æ®éƒ½åº”è¯¥æ”¾åˆ°Storeä¸­ï¼Ÿä¸ä¸€å®šï¼ˆæ•°æ®ä»…ä»…éœ€è¦åœ¨æœ¬ç»„ä»¶ä½¿ç”¨ï¼Œé‚£ä¹ˆæ²¡æœ‰å¿…è¦æ”¾åˆ°Storeï¼‰ï¼Œæ”¾åˆ°Storeä¸­çš„æ•°æ®ä¸€èˆ¬éœ€è¦å¤šä¸ªç»„ä»¶å…±äº«ã€‚</p> <p>2ã€<code>mapState</code>çš„æ–¹æ³•</p> <ul><li>åŸºæœ¬ä½¿ç”¨</li> <li>ç®€åŒ–ç”¨æ³•</li> <li>è‡ªå®šä¹‰å’Œæ˜ å°„è®¡ç®—å±æ€§ç»“åˆã€‚ã€‚</li></ul> <p>3ã€ åˆ©ç”¨ç»“æ„èµ‹å€¼<code>...</code> å¯¼å…¥ <code>mapState</code></p> <h2 id="åŒæ­¥æ•°æ®è·å–å’Œä¿®æ”¹æ•°æ®-mutations"><a href="#åŒæ­¥æ•°æ®è·å–å’Œä¿®æ”¹æ•°æ®-mutations" class="header-anchor">#</a> åŒæ­¥æ•°æ®è·å–å’Œä¿®æ”¹æ•°æ® <code>mutations</code></h2> <p><a href="https://vuex.vuejs.org/zh/guide/mutations.html" target="_blank" rel="noopener noreferrer">åŒæ­¥æ•°æ®ä¿®æ”¹ mutations<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>ç›®æ ‡ï¼šVuexè§„å®šå¿…é¡»é€šè¿‡<code>mutation</code>ä¿®æ”¹æ•°æ®ï¼Œä¸å¯ä»¥ç›´æ¥é€šè¿‡storeä¿®æ”¹çŠ¶æ€æ•°æ®ã€‚</p> <p>ä½œç”¨: Vuexè§„å®š éå¼‚æ­¥æ•°æ® éƒ½éœ€è¦åœ¨<code>mutations</code> ä¸Šè¿›è¡Œä¿®æ”¹ ä¸å¯åœ¨ç»„ä»¶å†…éƒ¨ä¿®æ”¹(ä¸“é—¨ä¿®æ”¹æ•°æ®)</p></blockquote> <ul><li><font color="#ff3040">æ³¨æ„: æ­¤æ–¹æ³•å†™åœ¨ Vueæ–¹æ³•<code>methods:</code>Â Vueæ–¹æ³•é‡Œé¢</font></li> <li>å…ˆå®šä¹‰ï¼ˆmutationsï¼‰ï¼Œå†å‡ºå‘  this.$store.commit('mutationçš„åç§°ï¼Œå‚æ•°')</li> <li>``mutation<code>çš„æœ¬è´¨å°±æ˜¯æ–¹æ³•ï¼Œæ–¹æ³•åç§°è‡ªå®šä¹‰ï¼Œ</code>mutation`å‡½æ•°å†…éƒ¨è´Ÿè´£å¤„ç†çš„å˜æ›´æ“ä½œã€‚</li> <li>ä¸€ç§æ“ä½œå°±æ˜¯ä¸€ä¸ª<code>mutation</code>ï¼Œä¸åŒçš„<code>mutation</code>å¤„ç†ä¸åŒçš„åœºæ™¯ã€‚</li> <li>é»˜è®¤é¡µé¢æ‰“å¼€æ—¶å€™ ä¸ä¼šè·å–æ•°æ® éœ€è¦æ·»åŠ åœ¨ <code>created()</code>å£°æ˜å‘¨æœŸä¸­è§¦å‘</li></ul> <h3 id="å®šä¹‰-mutationsçŠ¶æ€ä¿®æ”¹å‡½æ•°"><a href="#å®šä¹‰-mutationsçŠ¶æ€ä¿®æ”¹å‡½æ•°" class="header-anchor">#</a> å®šä¹‰ <code>mutations</code>çŠ¶æ€ä¿®æ”¹å‡½æ•°</h3> <ul><li><code>mutations</code>æœ¬è´¨ä¸Šæ˜¯æ–¹æ³• æ–¹æ³•åç§°è‡ªå®šä¹‰<code>mutations</code>å‡½æ•°å†…éƒ¨è´Ÿè´£å¤„ç†çš„å˜æ›´æ“ä½œ</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// mutationsè¿›è¡Œæ•°æ®çš„å˜æ›´</span>
mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰ä¸€ä¸ªmutationï¼Œç”¨äºç´¯åŠ countå€¼</span>
    <span class="token comment">// incrementè¿™ä¸ªåå­—æ˜¯è‡ªå®šä¹‰çš„</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å‚æ•°ä¸€ è¡¨ç¤ºstateçš„æ•°æ®(stateé‡Œé¢çš„æ•°æ®)</span>
      <span class="token comment">// å‚æ•°äºŒ payloadè¡¨ç¤ºéœ€è¦ä¿®æ”¹çš„æ•°æ®(è§¦å‘mutationæ—¶ä¼ é€’è¿‡æ¥)</span>
        state<span class="token punctuation">.</span>count <span class="token operator">=</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> payload
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç®€å•çš„å¯¼å…¥æ–¹æ³•-éé‡ç‚¹"><a href="#ç®€å•çš„å¯¼å…¥æ–¹æ³•-éé‡ç‚¹" class="header-anchor">#</a> ç®€å•çš„å¯¼å…¥æ–¹æ³•(éé‡ç‚¹)</h3> <div class="language-js extra-class"><pre class="language-js"><code>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// é€šè¿‡è§¦å‘mutationä¿®æ”¹stateä¸­çš„countçš„å€¼</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="mapmutations-æ–¹æ³•å¯¼å…¥æ•°æ®-é‡ç‚¹"><a href="#mapmutations-æ–¹æ³•å¯¼å…¥æ•°æ®-é‡ç‚¹" class="header-anchor">#</a> <code>mapMutations</code> æ–¹æ³•å¯¼å…¥æ•°æ® <code>é‡ç‚¹</code></h3> <blockquote><p>ä½œç”¨: æŠŠvuexä¸­çš„mutationsçš„å‡½æ•°æ˜ å°„åˆ°ç»„ä»¶çš„methodsä¸­</p> <p>é€šä¿—ï¼šé€šè¿‡mapMutationså‡½æ•°å¯ä»¥ç”Ÿæˆmethodsä¸­å‡½æ•°</p></blockquote> <ul><li><code>script</code>è„šæœ¬
<ul><li>æŠŠvuexä¸­çš„<code>mapMutations</code>æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸­ã€‚(å¯¼å…¥<code>mapMutations</code>)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>  mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬ <code>methods:</code> Vueæ–¹æ³•ä¸­
<ul><li>è°ƒç”¨<code>mapMutations</code> æ–¹æ³• é€šè¿‡<code>methods:</code> Vueæ–¹æ³•æ¥å£°æ˜</li> <li>å½“äº‹ä»¶å‡½æ•°åç§°å’Œmutationåç§°ä¸€è‡´æ—¶å€™ å¯ä»¥ç®€å†™ä¸ºæ•°ç»„ <code>...mapMutations(['increment'])</code></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1ã€å¯¹è±¡å‚æ•°çš„å†™æ³•</span>
    <span class="token comment">// ...mapMutations({</span>
    <span class="token comment">//   // å†’å·å³ä¾§çš„incrementæ˜¯mutationçš„åç§°</span>
    <span class="token comment">//   // å†’å·å·¦ä¾§çš„incrementæ˜¯äº‹ä»¶å‡½æ•°çš„åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰</span>
    <span class="token comment">//   increment: 'increment'</span>
    <span class="token comment">// })</span>
    <span class="token comment">// 2ã€æ•°ç»„å‚æ•°çš„å†™æ³•ï¼ˆäº‹ä»¶å‡½æ•°åç§°å’Œmutationåç§°ä¸€è‡´ï¼‰</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">// 3ã€è¿™ç§å†™æ³•å’Œç¬¬2ç§ç­‰æ•ˆ</span>
    <span class="token comment">// increment (param) {</span>
    <span class="token comment">//   // ç‚¹å‡»è§¦å‘è¯¥å‡½æ•°åè¦å†æ¬¡è§¦å‘mutationçš„</span>
    <span class="token comment">//   this.$store.commit('increment', param)</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>template</code>æ¨¡æ¿</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment(1)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ€»ç»“ï¼š</p> <ol><li>mapMutationså‡½æ•°çš„ä½œç”¨ï¼šç®€åŒ–methodsçš„å®šä¹‰</li> <li>åŸå§‹æ–¹å¼ï¼šé€šè¿‡$store.commitæ–¹æ³•è§¦å‘mutation</li> <li>ç®€å†™æ–¹å¼ä¸€ï¼šå¯¹è±¡å†™æ³•</li> <li>ç®€å†™æ–¹å¼äºŒï¼šæ•°ç»„å†™æ³•</li></ol> <h2 id="å¼‚æ­¥æ•°æ®è·å–-action"><a href="#å¼‚æ­¥æ•°æ®è·å–-action" class="header-anchor">#</a> å¼‚æ­¥æ•°æ®è·å– <code>action</code></h2> <p><a href="https://vuex.vuejs.org/zh/guide/actions.html" target="_blank" rel="noopener noreferrer">å¤„ç†å¼‚æ­¥è·å–action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>ç›®æ ‡: Vuexçš„å¼‚æ­¥æ•°æ®è·å–(ä¸å…·å¤‡ä¿®æ”¹æ•°æ®åŠŸèƒ½)</p> <p>ä½œç”¨: <code>action</code> è·å–æ•°æ®å éœ€è¦å¯¼å…¥ <code>mutations</code>ä¸­è¿›è¡Œä¿®æ”¹ (è‡ªèº«ä¸å…·å¤‡ä¿®æ”¹æ¡ä»¶)</p></blockquote> <ul><li><font color="#ff3040">æ³¨æ„: æ­¤æ–¹æ³•å†™åœ¨ Vueæ–¹æ³•<code>methods:</code> Vueæ–¹æ³•é‡Œé¢</font></li> <li>å¸¸ç”¨äºè·å–æœåŠ¡å™¨çš„æ•°æ® <code>async await</code></li> <li>ä¸å…·å¤‡ä¿®æ”¹æ•°æ®åŠŸèƒ½ éœ€è¦åœ¨ <code>mutations</code>ä¸­è¿›è¡Œä¿®æ”¹ ç„¶åå†è·å–åˆ°</li> <li>actionçš„ä½œç”¨ï¼šå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œè·å–å¼‚æ­¥ç»“æœåï¼ŒæŠŠæ•°æ®äº¤ç»™mutationæ›´æ–°æ•°æ®</li> <li>è§¦å‘actionéœ€è¦ä½¿ç”¨  this.$store.dispatch</li></ul> <h3 id="å®šä¹‰-actionå¼‚æ­¥æ•°æ®è·å–"><a href="#å®šä¹‰-actionå¼‚æ­¥æ•°æ®è·å–" class="header-anchor">#</a> å®šä¹‰ <code>action</code>å¼‚æ­¥æ•°æ®è·å–</h3> <ul><li>actionsæ˜¯å›ºå®šçš„ï¼Œç”¨äºå®šä¹‰å¼‚æ­¥æ“ä½œçš„åŠ¨ä½œï¼ˆå‡½æ•°ï¼‰</li> <li>æœ¬èº«ä¸å…·å¤‡ä¿®æ”¹åŠŸèƒ½ éœ€è¦å¯¼å…¥åˆ°<code>mutations</code>ä¸­è¿›è¡Œä¿®æ”¹ ç„¶åå†è·å–åˆ°</li> <li>å‚æ•°ä¸€ constext ç±»ä¼¼this.$store ç”¨æ¥å®ä¾‹åŒ– actions
å‚æ•°äºŒ payloadæ¥æ”¶ä¼ æ¥çš„æ•°å€¼</li> <li><code>commit</code>æ˜¯è§¦å‘<code>mutations</code>çš„Vuexæ–¹æ³• æŠŠå¼‚æ­¥æ•°æ®è·å–åˆ°å è¿›å…¥<code>mutations</code>è¿›è¡ŒåŒæ­¥æ•°æ®è·å–
<ul><li>å¼‚æ­¥æ•°æ®è·å–å <code>async</code> å¤„ç†å æŠŠæ•°æ®å˜æˆåŒæ­¥æ•°æ® ç„¶å è¿›å…¥<code>mutations</code>è¿›è¡ŒåŒæ­¥æ•°æ®è·å–</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 4. state: å‚¨å­˜ç»„ä»¶çš„æ‰€æœ‰æ•°æ®</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    demo<span class="token operator">:</span> <span class="token string">'ä½ å¥½'</span><span class="token punctuation">,</span>
    abc<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// å‚¨å­˜å¼‚æ­¥è·å–åˆ°çš„æ•°æ®</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// actionsæ˜¯å›ºå®šçš„ï¼Œç”¨äºå®šä¹‰å¼‚æ­¥æ“ä½œçš„åŠ¨ä½œï¼ˆå‡½æ•°ï¼‰</span>
actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰äº†ä¸€ä¸ªactionï¼Œç”¨äºæŸ¥è¯¢æ¥å£æ•°æ® éœ€è¦è®¾ç½®asyncå–æ¶ˆå¼‚æ­¥ åŒæ­¥æ•°æ®</span>
    <span class="token keyword">async</span> <span class="token function">queryData</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å‚æ•°ä¸€ constext ç±»ä¼¼this.$store ç”¨æ¥å®ä¾‹åŒ– actions </span>
      <span class="token comment">// å‚æ•°äºŒ payloadæ¥æ”¶ä¼ æ¥çš„æ•°å€¼</span>
      <span class="token comment">// 1. è°ƒç”¨æ¥å£è·å–æ•°æ®</span>
        <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://test.zjie.wang/tab'</span><span class="token punctuation">)</span>
      <span class="token comment">// 2. å¿…é¡»è§¦å‘mutationä¿®æ”¹listçš„å€¼</span>
      <span class="token comment">// contextç±»ä¼¼äºthis.$store å®ä¾‹åŒ– actions</span>
      <span class="token comment">// commit æ˜¯è§¦å‘ mutations é‡Œé¢çš„å‡½æ•° è¿æ¥åŒæ­¥æ•°æ®è·å–çš„mutationsä¸­ æŠŠæ•°æ®è¿›è¡Œä¿®æ”¹</span>
      <span class="token comment">// æŠŠæ•°æ®è®¾ç½®åˆ° mutationsçš„ updateListæ–¹æ³•åä¸­ è¿›è¡Œä¿®æ”¹æ•°æ®</span>
        context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'updateList'</span><span class="token punctuation">,</span> ret<span class="token punctuation">.</span>data<span class="token punctuation">.</span>list<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 3. mutationsè¿›è¡Œæ•°æ®çš„å˜æ›´</span>
mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">updateList</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// payloadå‚æ•°äºŒæ˜¯ è·å–æ•°æ®çš„å‚æ•°</span>
      state<span class="token punctuation">.</span>list <span class="token operator">=</span> payload <span class="token comment">// æŠŠæ•°æ® èµ‹å€¼ç»™stateå‚¨å­˜ </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è¿›å…¥mutationsè¿›è¡ŒåŒæ­¥æ•°æ®è·å–ç®€å•çš„å¯¼å…¥æ–¹æ³•-éé‡ç‚¹"><a href="#è¿›å…¥mutationsè¿›è¡ŒåŒæ­¥æ•°æ®è·å–ç®€å•çš„å¯¼å…¥æ–¹æ³•-éé‡ç‚¹" class="header-anchor">#</a> è¿›å…¥<code>mutations</code>è¿›è¡ŒåŒæ­¥æ•°æ®è·å–ç®€å•çš„å¯¼å…¥æ–¹æ³•(éé‡ç‚¹)</h3> <div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleQuery</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è§¦å‘action(å¿…é¡»è°ƒç”¨dispatchæ–¹æ³•)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'queryData'</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mapactions-æ–¹æ³•è·å–æ•°æ®-é‡ç‚¹"><a href="#mapactions-æ–¹æ³•è·å–æ•°æ®-é‡ç‚¹" class="header-anchor">#</a> <code>mapActions</code> æ–¹æ³•è·å–æ•°æ® <code>é‡ç‚¹</code></h3> <blockquote><ul><li>mapActionsè¾…åŠ©å‡½æ•°ï¼ŒæŠŠactionsä¸­çš„å‡½æ•°æ˜ å°„ç»„ä»¶methodsä¸­</li> <li>é€šä¿—ï¼šé€šè¿‡mapActionså‡½æ•°å¯ä»¥ç”Ÿæˆmethodsä¸­å‡½æ•°</li> <li><ol><li><code>mapActions</code> æ–¹æ³•è·å– è·å–å¼‚æ­¥æ•°æ®</li> <li>è·å–åˆ°çš„æ•°æ® é€šè¿‡Vuexçš„<code>mutations</code> å¤„ç† å‚¨å­˜åˆ°Vuexçš„ <code>state</code> æ•°æ®</li> <li>é€šè¿‡Vueæ–‡ä»¶çš„ <code>mapState</code> æ–¹æ³•å¯¼å…¥ <code>state</code> æ•°æ®</li></ol></li></ul></blockquote> <ul><li><code>script</code> è„šæœ¬
<ul><li>æŠŠvuexä¸­çš„<code>mapActions</code>æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸­ã€‚(å¯¼å…¥<code>mapActions</code>)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬ <code>methods:</code> Vueæ–¹æ³•ä¸­
<ul><li>è®¾ç½®å¼‚æ­¥è·å–æ•°æ®çš„æ–¹æ³• å¹¶ä¸”åœ¨ <code>state</code> å‚¨å­˜</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç›¸å½“äº methodsç”³æ˜äº†ä¸€ä¸ªå‡½æ•°fn(num){ this.$store.dispatch('queryData', num)} </span>
<span class="token comment">// ...mapActions({</span>
<span class="token comment">//   fn: 'queryData'</span>
<span class="token comment">// })</span>
<span class="token comment">// ç›¸å½“äº methodsç”³æ˜äº†ä¸€ä¸ªå‡½æ•°getData(num){ this.$store.dispatch('getData', num)} </span>
<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'queryData'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬ <code>computed:</code> è®¡ç®—æ–¹æ³•
<ul><li>åœ¨ <code>mapState</code> å¯¼å…¥ Vue çš„<code>state</code>æ•°æ®</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å¯¼å…¥stateä¸­å‚¨å­˜çš„å±æ€§å(å®é™…ä¸Šæ˜¯å¯¹è±¡)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬<code>created()</code> å£°æ˜å‘¨æœŸ
<ul><li>é¡µé¢åˆ·æ–°æ—¶å€™ è®©å…¶è·å–æœåŠ¡å™¨å¼‚æ­¥æ•°æ®</li> <li>éœ€è¦å…ˆå¯¼å…¥<code>mapActions</code> æ–¹æ³• å¦åˆ™éœ€è¦ this.$store.dispatch('mapActionsæ–¹æ³•å')</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§¦å‘åŠ è½½çƒ­æ˜ æ•°æ®çš„action</span>
    <span class="token comment">// this.$store.dispatch('queryData')</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li><code>template</code> æ¨¡æ¿
<ul><li>è·å– Vuexé‡Œé¢çš„<code>state</code>ä¸­çš„æ•°æ® å¾ªç¯éå†æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li></ul></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- è·å– Vuexé‡Œé¢çš„stateä¸­listçš„æ•°æ® å¾ªç¯éå†æ¸²æŸ“åˆ°é¡µé¢ä¸Š --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ€»ç»“ï¼š</p> <ol><li>åŸå§‹æ–¹å¼ï¼šthis.$store.dispatch('queryData', num)</li> <li>ç®€åŒ–æ–¹å¼ä¸€ï¼šå¯¹è±¡</li> <li>ç®€åŒ–æ–¹å¼äºŒï¼šæ•°ç»„</li></ol> <h2 id="å¤„ç†stateé‡Œçš„æ•°æ®-getters"><a href="#å¤„ç†stateé‡Œçš„æ•°æ®-getters" class="header-anchor">#</a> å¤„ç†stateé‡Œçš„æ•°æ® <code>getters</code></h2> <p><a href="https://vuex.vuejs.org/zh/guide/getters.html" target="_blank" rel="noopener noreferrer">getterså¤„ç†æ•°æ®<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>ç›®æ ‡ï¼šç†Ÿæ‚‰gettersçš„åº”ç”¨åœºæ™¯å’Œå…·ä½“ä½¿ç”¨æ­¥éª¤</p> <p>ä½œç”¨: ç›¸å½“äºstateçš„è®¡ç®—å±æ€§ï¼ˆåŸºäºStateå¤„ç†æˆå¦å¤–ä¸€ä»½æ•°æ®ï¼‰</p> <p>åº”ç”¨åœºæ™¯ï¼šæ¨¡æ¿ä¸­éœ€è¦çš„æ•°æ®å’ŒStateä¸­çš„æ•°æ®ä¸å®Œå…¨ä¸€æ · éœ€è¦åŸºäºstateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œå½¢æˆä¸€ä»½æ–°çš„çš„æ•°æ®ï¼Œç»™æ¨¡æ¿ä½¿ç”¨</p></blockquote> <ul><li><font color="#ff3040">æ³¨æ„: æ­¤æ–¹æ³•å†™åœ¨ Vueæ–¹æ³•<code>computed:</code>Â è®¡ç®—å±æ€§</font></li> <li>åªèƒ½ä¿®æ”¹ Vuexé‡Œé¢çš„<code>state</code>æ•°æ®</li> <li>å¦‚æœVueæ–‡ä»¶ä¸è°ƒç”¨æ­¤æ–¹æ³• æ•°æ®åœ¨Vuexä¸­ä¸ä¼šåšå‡ºæ”¹å˜(å³ä¾¿æ˜¯è®¾ç½®äº†)
<ul><li>å³ä¾¿è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³• <code>state</code> é‡Œé¢åŸæ•°æ®ä¹Ÿä¸ä¼šè¢«ä¿®æ”¹ <code>getters</code>æ–¹æ³•è°ƒç”¨æ—¶ åªæ˜¯åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œä¿®æ”¹</li></ul></li> <li><code>getters</code>å¯ä»¥é€šè¿‡<code>mapGetters</code>æ˜ å°„åˆ°ä¸åŒçš„ç»„ä»¶ä¸­(è¿™äº›ç»„ä»¶å…±äº«è¿™ä¸ª<code>getters</code>) è¿™æ ·æœ‰ä¸€ä¸ªè¿™äº›ç»„ä»¶ä¸éœ€è¦å†å•ç‹¬å®šä¹‰ä¸ªå­çš„è®¡ç®—å±æ€§ ä»£ç æ²‰ä½™åº¦è¾ƒä½</li></ul> <h3 id="å®šä¹‰-getters-ä¿®æ”¹stateé‡Œæ•°æ®"><a href="#å®šä¹‰-getters-ä¿®æ”¹stateé‡Œæ•°æ®" class="header-anchor">#</a> å®šä¹‰ <code>getters</code> ä¿®æ”¹stateé‡Œæ•°æ®</h3> <ul><li>ä¿®æ”¹ <code>state</code>é‡Œæ•°æ® å®šä¹‰<code>getters</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// state: å‚¨å­˜ç»„ä»¶çš„æ‰€æœ‰æ•°æ®</span>
state<span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token comment">// éœ€è¦ä¿®æ”¹çš„stateæ•°æ®</span>
    list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// ç›¸å½“äºstateçš„è®¡ç®—å±æ€§ï¼ˆåŸºäºStateå¤„ç†æˆå¦å¤–ä¸€ä»½æ•°æ®ï¼‰</span>
<span class="token comment">// è¿›è¡Œstateæ•°æ®å¤„ç†</span>
getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">getPartList</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>id <span class="token operator">&gt;</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="ç®€å•ä½¿ç”¨æ–¹æ³•-éé‡ç‚¹"><a href="#ç®€å•ä½¿ç”¨æ–¹æ³•-éé‡ç‚¹" class="header-anchor">#</a> ç®€å•ä½¿ç”¨æ–¹æ³•(éé‡ç‚¹)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">caleList</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ³¨æ„ï¼šè·å–gettersçš„å€¼ï¼Œä¸éœ€è¦åŠ æ‹¬å·ï¼ˆå½“å±æ€§ä½¿ç”¨ï¼‰</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>getPartList
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="mapgetters-æ–¹æ³•å¤„stateæ•°æ®"><a href="#mapgetters-æ–¹æ³•å¤„stateæ•°æ®" class="header-anchor">#</a> <code>mapGetters</code> æ–¹æ³•å¤„stateæ•°æ®</h3> <blockquote><ul><li>å¦‚æœVueæ–‡ä»¶ä¸è°ƒç”¨æ­¤æ–¹æ³• æ•°æ®åœ¨Vuexä¸­ä¸ä¼šåšå‡ºæ”¹å˜(å³ä¾¿æ˜¯è®¾ç½®äº†)</li> <li>å¯¼å…¥<code>mapGetters</code> æ–¹æ³•å å¾ªç¯éå†æ•°æ® éœ€è¦è®¾ç½®ä¸º<code>mapGetters</code> æ–¹æ³•çš„æ•°æ®
<ul><li>å³ä¾¿è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³• <code>state</code> é‡Œé¢åŸæ•°æ®ä¹Ÿä¸ä¼šè¢«ä¿®æ”¹ <code>getters</code>æ–¹æ³•è°ƒç”¨æ—¶ åªæ˜¯åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œä¿®æ”¹</li></ul></li></ul></blockquote> <ul><li><code>script</code> è„šæœ¬
<ul><li>æŠŠvuexä¸­çš„<code>mapGetters</code> æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸­ã€‚(å¯¼å…¥<code>mapGetters</code> )</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
</code></pre></div><ul><li><code>script</code> è„šæœ¬ <code>computed:</code>è®¡ç®—å±æ€§
<ul><li>å¤„ç†Vuexé‡Œé¢çš„ <code>state</code>æ•°æ®</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">// mapGettersçš„ä½œç”¨ï¼šæŠŠgettersæ˜ å°„ä¸ºè®¡ç®—å±æ€§</span>
computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'getPartList'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ...mapGetters({</span>
    <span class="token comment">//   calcList: 'getPartList'</span>
    <span class="token comment">// }),</span>
    <span class="token comment">// calcList () {</span>
    <span class="token comment">//   // æ³¨æ„ï¼šè·å–gettersçš„å€¼ï¼Œä¸éœ€è¦åŠ æ‹¬å·ï¼ˆå½“å±æ€§ä½¿ç”¨ï¼‰</span>
    <span class="token comment">//   return this.$store.getters.getPartList</span>
    <span class="token comment">// },</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>template</code>æ¨¡æ¿
<ul><li>æŠŠä¿®æ”¹çš„<code>state</code>æ•°æ® æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li></ul></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in getPartList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ€»ç»“ï¼š</p> <ol><li>gettersç›¸å½“äºåœ¨Stateå’Œç»„ä»¶ä¹‹é—´æ·»åŠ ä¸€ä¸ªç¯èŠ‚ï¼ˆå¯¹stateä¸­çš„æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†åå†æä¾›ç»™ç»„ä»¶ï¼‰</li> <li>gettersä¸è¦ä¿®æ”¹stateä¸­çš„æ•°æ®</li> <li>gettersç±»ä¼¼ä¹‹å‰çš„è®¡ç®—å±æ€§ï¼ˆåŸºäºstateä¸­çš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼‰</li></ol> <h2 id="æ¨¡å—åŒ–æ‹†åˆ†-modules"><a href="#æ¨¡å—åŒ–æ‹†åˆ†-modules" class="header-anchor">#</a> æ¨¡å—åŒ–æ‹†åˆ† <code>modules</code></h2> <p><a href="https://vuex.vuejs.org/zh/guide/modules.html" target="_blank" rel="noopener noreferrer">modulesæ¨¡å—æ‹†åˆ†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>ç›®æ ‡ï¼šStoreä¸­ä»£ç è¶Šæ¥è¶Šå¤šï¼Œä¸æ–¹ä¾¿åç»­çš„ç»´æŠ¤å’Œæ‰©å±• å°±éœ€è¦ç”¨åˆ° <code>modules</code>æ¨¡å—æ‹†åˆ†</p> <p>ä½œç”¨:  æ–¹ä¾¿åæœŸçš„ç»´æŠ¤å’Œæ‰©å±•</p></blockquote> <h3 id="è®¾ç½®vuex-moduleså…¥å£æ–‡ä»¶"><a href="#è®¾ç½®vuex-moduleså…¥å£æ–‡ä»¶" class="header-anchor">#</a> è®¾ç½®Vuex <code>modules</code>å…¥å£æ–‡ä»¶</h3> <blockquote><p>åœ¨å…¥å£æ–‡ä»¶ä¸­å¯ä»¥å¯¼å…¥æ‰€æœ‰çš„æ¨¡å—å¹¶è¿›è¡Œç»Ÿä¸€é…ç½®</p></blockquote> <ul><li>å…¥å£æ–‡ä»¶ è®¾ç½® <code>modules:</code> æ¨¡å—æ¥æ”¶æ‹†åˆ†çš„ Vuexç»„ä»¶</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¯¼å…¥Vuexçš„ç»„ä»¶</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">// å¯¼å…¥Vuexçš„æ‹†åˆ†ç»„ä»¶</span>
<span class="token keyword">import</span> listModule <span class="token keyword">from</span> <span class="token string">'@/store/list.js'</span>
<span class="token keyword">import</span> detail <span class="token keyword">from</span> <span class="token string">'@/store/detail.js'</span>
<span class="token comment">// å®ä¾‹åŒ–Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token comment">// å¯¼å‡ºstoreå®ä¾‹åŒ–å¯¹è±¡(Vuex) è°ƒç”¨æ—¶ $store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token comment">// å¯¼å…¥Vuexæ¨¡å—åŒ–ç»„ä»¶(æ¥æ”¶æ‹†åˆ†çš„Vuexç»„ä»¶)</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token comment">// å·¦è¾¹æ˜¯è‡ªå®šä¹‰åç§° ç”¨äºå¯¼å…¥åˆ°Vueæ–‡ä»¶ Vueæ–‡ä»¶å¯¼å…¥çš„åç§°</span>
 <span class="token comment">// å³è¾¹æ˜¯å¯¼å…¥æ‹†åˆ†ç»„ä»¶çš„åç§° éœ€è¦å’Œimportå¯¼å…¥åç§°åŒ¹é…</span>
    list<span class="token operator">:</span> listModule<span class="token punctuation">,</span>
    detail<span class="token punctuation">,</span>
    demo1<span class="token punctuation">,</span>
    demo
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="è®¾ç½®-vuexæ‹†åˆ†æ¨¡å—å†…éƒ¨-jsæ–‡ä»¶"><a href="#è®¾ç½®-vuexæ‹†åˆ†æ¨¡å—å†…éƒ¨-jsæ–‡ä»¶" class="header-anchor">#</a> è®¾ç½® Vuexæ‹†åˆ†æ¨¡å—å†…éƒ¨<code>(jsæ–‡ä»¶)</code></h3> <blockquote><p>ä¸åŒçš„åŠŸèƒ½å¯ä»¥æ‹†åˆ†ä¸ºä¸åŒçš„jsæ¨¡å—</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¯¼å…¥axios(å¯é€‰)</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// è®¾ç½®ä¸ºå±€éƒ¨ç»„ä»¶ å¿…é¡»è¦è®¾ç½®ä¸ºå±€éƒ¨ç»„ä»¶ å¦åˆ™Vuexæ— æ³•è¯†åˆ«</span>
  namespaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// å‚¨å­˜æ•°æ® state</span>
  <span class="token comment">// å¦‚æœç®­å¤´å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦åŒ…è£¹ä¸€ä¸ªå°æ‹¬å·ï¼Œå¦åˆ™ä¼šæœ‰æ­§ä¹‰</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// åŒæ­¥æ•°æ®ä¿®æ”¹ mutations</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å¼‚æ­¥æ•°æ®è·å– action</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// å¤„ç†stateé‡Œçš„æ•°æ® getters</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ¨¡å—æˆå‘˜çš„è®¿é—®è§„åˆ™-namespaced-true"><a href="#æ¨¡å—æˆå‘˜çš„è®¿é—®è§„åˆ™-namespaced-true" class="header-anchor">#</a> æ¨¡å—æˆå‘˜çš„è®¿é—®è§„åˆ™ <code>namespaced: true</code></h3> <ul><li>å…¨å±€æ¨¡å— (ä¸åŒ…å«namespacedå±æ€§ï¼‰:ä¸åŒæ¨¡å—çš„ç›¸åŒæˆå‘˜åç§°ä¼šå†²çª <font color="#ff3040">ä¸æ¨è</font></li> <li>å±€éƒ¨æ¨¡å—ï¼ˆåŒ…å«namespacedå±æ€§ï¼‰:ä¸åŒæ¨¡å—çš„ç›¸åŒæˆå‘˜åç§°ä¸ä¼šå†²çªï¼Œä½†æ˜¯è®¿é—®æ—¶éœ€è¦æ·»åŠ å‰ç¼€ï¼ˆæ¨¡å—åç§°ï¼‰æ¨è<font color="#ff3040">æ¨è</font></li></ul> <blockquote><p>å…¨å±€å’Œå±€éƒ¨æ¨¡å—çš„è®¿é—®è§„åˆ™çš„åŒºåˆ«</p></blockquote> <ol><li><p>å…¨å±€æ¨¡å¼ä¸‹ï¼ˆä¸åŠ namespacedï¼‰ <font color="#ff3040">å»ºè®®ä½¿ç”¨å±€éƒ¨æ¨¡å¼</font></p> <ul><li>ä¸æ”¯æŒæ•°ç»„æ–¹æ³• å¹¶ä¸”ä¸æ”¯æŒç®€åŒ– ä¸æ¨è</li> <li>å¦‚æœå¤šä¸ªç»„ä»¶åç§°ä¸€è‡´ ä¼šå‘ç”Ÿé”™è¯¯  <font color="#ff3040">ä¸æ¨èä½¿ç”¨!</font></li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åœ¨ä¸æ·»åŠ å‘½åç©ºé—´çš„å‰æä¸‹ï¼ˆæ¨¡å—ä¸­ä¸æ·»åŠ namespacedï¼‰ï¼Œå®‰è£…å¦‚ä¸‹çš„æ–¹å¼è·å–æ¨¡å—çš„çŠ¶æ€æ•°æ®</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">msg</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>msg
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li><p>å±€éƒ¨æ¨¡å—ä¸‹ï¼ˆæ·»åŠ namespacedï¼‰</p> <ul><li>æ”¯æŒæ•°ç»„ å¹¶ä¸”å¸¸ç”¨ ä½†æ˜¯éœ€è¦åœ¨ Vuexæ‹†åˆ†æ¨¡å—æ·»åŠ  <code>namespaced: true</code></li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¦‚æœæ¨¡å—æ·»åŠ çš„namespacedï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ç®€åŒ–</span>
<span class="token comment">// å¦‚ä¸‹çš„å‚æ•°ä¸€è¡¨ç¤ºæ¨¡å—åç§°ï¼Œå‚æ•°äºŒè¡¨ç¤ºstateä¸­å±æ€§åç§°</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'detail'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'msg'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="åœ¨vueæ–‡ä»¶-è®¿é—®æ¨¡å—æˆå‘˜çš„æ–¹æ³•"><a href="#åœ¨vueæ–‡ä»¶-è®¿é—®æ¨¡å—æˆå‘˜çš„æ–¹æ³•" class="header-anchor">#</a> åœ¨Vueæ–‡ä»¶ è®¿é—®æ¨¡å—æˆå‘˜çš„æ–¹æ³•</h3> <blockquote><p>å¦‚æœè®¾ç½®äº† å±€éƒ¨æ¨¡å— <code>namespaced: true</code> å°±å¯ä»¥è°ƒç”¨ æ•°ç»„å†™æ³• å’Œ è¾…åŠ©å‡½æ•°</p></blockquote> <ul><li>æ•°ç»„æ–¹æ³•æ”¯æŒå¤šä¸ªVuexæ¨¡å—å¯¼å…¥ è¾…åŠ©å‡½æ•°ä¸æ”¯æŒ</li></ul> <h4 id="æ•°ç»„ç®€åŒ–å†™æ³•"><a href="#æ•°ç»„ç®€åŒ–å†™æ³•" class="header-anchor">#</a> æ•°ç»„ç®€åŒ–å†™æ³• <code>('', [''])</code></h4> <blockquote><p>æ•°ç»„ç®€åŒ–æ–¹æ³• ä¸éœ€è¦å¯¼å…¥å…¶ä»–ä¸œè¥¿ å¹¶ä¸”æ”¯æŒå¤šä¸ªVuexæ¨¡å—å¯¼å…¥</p></blockquote> <ul><li><code>script</code> è„šæœ¬
<ul><li>æ•°ç»„ç®€å†™ :<code>...mapActions('moduleså·¦ä¾§è®¾ç½®çš„Vuexåç§°', ['Vuexæ¨¡å—ä¸­éœ€è¦è·å–çš„æ•°æ®'])</code></li></ul></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">//! å¯¼å…¥Vuexçš„mapState è·å– Vuexçš„stateæ•°æ®</span>
<span class="token comment">//! å¯¼å…¥mapActions è®©Vuexè·å–æœåŠ¡å™¨å¼‚æ­¥æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// åœ¨è®¡ç®—å±æ€§ä¸­ å¯¼å…¥stateæ•°æ®</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–Vuexæ¨¡å—åŒ–çš„stateæŒ‡å®šæ•°æ® å’Œ å¤„ç†stateæ•°æ®getters</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'detail'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'movieInfo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// åœ¨å‡½æ•°æ–¹æ³•ä¸­ è®¾ç½® actionå¼‚æ­¥ å’Œ mutationsåŒæ­¥ æ•°æ®è·å–</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®©Vuexæ¨¡å—åŒ–è·å–å¼‚æ­¥æ•°æ® å¹¶å‚¨å­˜åœ¨Vueçš„stateæ•°æ®é‡Œé¢</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'detail'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'movieDetail'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  å£°æ˜å‘¨æœŸ é¡µé¢åŠ è½½æ—¶å€™ è°ƒç”¨å¼‚æ­¥è·å–Vuexæ–¹æ³• è·å–æœåŠ¡å™¨æ•°æ®(æºå¸¦åŠ¨æ€è·¯ç”±ä¼ æ¥çš„id)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">movieDetail</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token comment">// æºå¸¦ åŠ¨æ€è·¯ç”±ä¼ æ¥çš„ç”µå½±è¯¦æƒ…id è·å–ç”µå½±è¯¦æƒ…çš„å†…å®¹</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h4 id="é€šè¿‡è¾…åŠ©å‡½æ•°è¿›è¡Œç®€åŒ–-createnamespacedhelpers"><a href="#é€šè¿‡è¾…åŠ©å‡½æ•°è¿›è¡Œç®€åŒ–-createnamespacedhelpers" class="header-anchor">#</a> é€šè¿‡è¾…åŠ©å‡½æ•°è¿›è¡Œç®€åŒ– <code>createNamespacedHelpers</code></h4> <blockquote><p>éœ€è¦åœ¨Vueæ–‡ä»¶é‡Œ å¯¼å…¥createNamespacedHelpers å¹¶ä¸”ä¸æ”¯æŒå¤šä¸ªVuexæ¨¡å—å¯¼å…¥</p></blockquote> <ul><li><code>script</code> è„šæœ¬
<ul><li>å¹¶ä¸æ”¯æŒ å¤šä¸ªVuexæ¨¡å—å¯¼å…¥</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// åˆ›å»ºåŸºäºæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•° ç”¨æ¥å¯¼å…¥ Vuexç»„ä»¶åŒ–çš„æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createNamespacedHelpers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">// ~ å¯¼å…¥Vuexçš„mapState è·å– Vuexçš„stateæ•°æ®</span>
<span class="token comment">// ~ å¯¼å…¥mapActions è®©Vuexè·å–æœåŠ¡å™¨å¼‚æ­¥æ•°æ®</span>
<span class="token comment">// å¯¼å…¥Vuex çš„ç»„ä»¶åŒ–æ•°æ®</span>
<span class="token comment">// const { ç”¨åˆ°çš„Vuexå•ä¸€çŠ¶æ€æ•°(å°±æ˜¯é‚£å››ä¸ªå€¼) } = createNamespacedHelpers('æ‹†åˆ†çš„ç»„ä»¶å')</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'HotMovie'</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ~ å¯¼å…¥Vuexçš„mapState è·å–Vuexçš„stateæ•°æ®</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'mlist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ~ è·å–æœåŠ¡å™¨å¼‚æ­¥æ•°æ®çš„ å¯¼å…¥Vuexçš„å¼‚æ­¥è·å– mapActionsæ–¹æ³•</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'movelist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ~ å£°æ˜å‘¨æœŸ é¡µé¢åŠ è½½æ—¶å€™ è°ƒç”¨å¼‚æ­¥è·å–Vuexæ–¹æ³• è·å–æœåŠ¡å™¨æ•°æ®</span>
    <span class="token comment">// this.$store.dispatch('movelist')</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">movelist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="åŒæ—¶å¯¼å…¥å¤šå’Œvuexçš„æ‹†åˆ†æ¨¡å—"><a href="#åŒæ—¶å¯¼å…¥å¤šå’Œvuexçš„æ‹†åˆ†æ¨¡å—" class="header-anchor">#</a> åŒæ—¶å¯¼å…¥å¤šå’ŒVuexçš„æ‹†åˆ†æ¨¡å— <code>('', [''])</code></h3> <blockquote><p>åˆ©ç”¨æ•°ç»„ç®€åŒ–å†™æ³• å¯¼å…¥å¤šä¸ªVuexæ‹†åˆ†æ¨¡å—</p></blockquote> <ul><li><code>state</code> ä¸æ”¯æŒ æ•°ç»„å¯¹è±¡æ–¹æ³• åªèƒ½å¤šæ¬¡å¯¼å…¥</li></ul> <ol><li>æ˜ å°„å¤šæ¬¡å®ç°å¤šæ¨¡å—å¯¼å…¥</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤šæ¬¡å¯¼å…¥ stateå‚¨å­˜æ•°æ®</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'listx'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'demo1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤šæ¬¡å¯¼å…¥  methodsåŒæ­¥æ•°æ® actionå¼‚æ­¥æ•°æ®åŒç†</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        getInfo1<span class="token operator">:</span> <span class="token string">'getInfo'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'detail'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        getInfo2<span class="token operator">:</span> <span class="token string">'getInfo'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// å£°æ˜å‘¨æœŸè°ƒç”¨methodsåŒæ­¥æ•°æ®</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInfo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInfo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>é€šè¿‡æ•°ç»„æ–¹å¼æ˜ å°„ä¸€æ¬¡
<ul><li>/å¯ä»¥åœ¨æ•°ç»„ä¸­å†™ å¹¶ä¸”/ä¸ä¼šè®©é‡åçš„å€¼è¦†ç›– å› ä¸ºä¼šè¢«çœ‹æˆä¸€ä¸ªæ•´ä½“</li> <li>[] å’Œ . éƒ½æ˜¯æ–¹æ³•å†™æ³•
<ul><li>this.fn()  === this['fn'] ()</li></ul></li> <li><code>state</code> ä¸æ”¯æŒ æ•°ç»„å¯¹è±¡æ–¹æ³• åªèƒ½å¤šæ¬¡å¯¼å…¥</li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// å¤šæ¬¡å¯¼å…¥  methodsåŒæ­¥æ•°æ® actionå¼‚æ­¥æ•°æ®åŒç†</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">'list/getInfo'</span><span class="token punctuation">,</span> <span class="token comment">// æ·»åŠ / ä¸ä¼šè¢«ç›¸åŒçš„getInfoè¦†ç›– å’Œå‰é¢çš„çœ‹åšä¸€ä¸ªæ•´ä½“</span>
      <span class="token string">'detail/getInfo'</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å£°æ˜å‘¨æœŸè°ƒç”¨methodsåŒæ­¥æ•°æ®</span>
    <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'list/getInfo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'detail/getInfo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/6/20 ä¸‹åˆ4:24:04</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><APlayer audio="" fixed="true" mini="true" theme="#647ea0" loop="loop" order="list" preload="auto" volume="0.3" mutex="true" lrc-type="0" list-folded="true" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div id="goTop" class="hide-cat" data-v-bf92849a></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      æ¬¢è¿æ¥åˆ° LKaiLi
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="120" height="322" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    çœ‹æ¿å¨˜
  </div></div></div></div>
    <script src="/assets/js/app.30af913f.js" defer></script><script src="/assets/js/5.cf8e9e04.js" defer></script><script src="/assets/js/1.0362ac49.js" defer></script><script src="/assets/js/18.727d55e9.js" defer></script>
  </body>
</html>
