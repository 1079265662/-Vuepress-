(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{658:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("介绍")]),t._v(" "),a("p",[t._v("three.js 之 Texture 纹理"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"纹理导入-textureloader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#纹理导入-textureloader"}},[t._v("#")]),t._v(" 纹理导入 TextureLoader()")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("纹理一般是指我们常见的在一些第三方程序中创建的图像，如PNG和JPG类型的图。我们把这张图片放在立方体上。（我通常称为"),a("code",[t._v("贴图")]),t._v("）。我们需要做的就是创建一个"),a("a",{attrs:{href:"https://threejs.org/docs/?q=TextureLoade#api/zh/loaders/TextureLoader",target:"_blank",rel:"noopener noreferrer"}},[t._v("TextureLoader()"),a("OutboundLink")],1),t._v("。调用它的load方法，同时传入图像的URL，并将材质的 map 属性设置为该方法的返回值")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("TextureLoader()")]),t._v(" 通常用来加载一张图片可以返回一个纹理对象"),a("a",{attrs:{href:"https://threejs.org/docs/?q=TextureLoade#api/zh/textures/Texture",target:"_blank",rel:"noopener noreferrer"}},[t._v("Texture"),a("OutboundLink")],1),t._v(" 作为一个表面，或者作为反射/折射贴图")]),t._v(" "),a("ul",[a("li",[t._v("通过材质方法"),a("a",{attrs:{href:"https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.map",target:"_blank",rel:"noopener noreferrer"}},[t._v("map"),a("OutboundLink")],1),t._v(" 加载纹理贴图")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("TextureLoader()")]),t._v(" 也可以制作序列帧动画")])])]),t._v(" "),a("h3",{attrs:{id:"网格模型使用加载的纹理贴图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网格模型使用加载的纹理贴图"}},[t._v("#")]),t._v(" "),a("strong",[t._v("网格模型使用加载的纹理贴图")])]),t._v(" "),a("ul",[a("li",[t._v("配合"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial",target:"_blank",rel:"noopener noreferrer"}},[t._v("基础网格材质MeshBasicMaterial()"),a("OutboundLink")],1),t._v("的"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.map",target:"_blank",rel:"noopener noreferrer"}},[t._v(".map"),a("OutboundLink")],1),t._v(" 把加载好纹理变成网格模型的贴图")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理图片 作为贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/logo.svg'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" texture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个在网格模型中展示的几何体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认就是1,1,1 宽高深度")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置该集合体的纹理材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" map"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" texture "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过map使用纹理材质")]),t._v("\n")])])]),a("h2",{attrs:{id:"纹理的常用操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#纹理的常用操作"}},[t._v("#")]),t._v(" 纹理的常用操作")]),t._v(" "),a("h3",{attrs:{id:"设置偏移量-x-y"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置偏移量-x-y"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置偏移量 X Y")])]),t._v(" "),a("ul",[a("li",[t._v("通过"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.offset",target:"_blank",rel:"noopener noreferrer"}},[t._v(".offset"),a("OutboundLink")],1),t._v(" 可以改变纹理的偏移量 参数是一个"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/math/Vector2",target:"_blank",rel:"noopener noreferrer"}},[t._v("二维向量（Vector2）"),a("OutboundLink")],1),t._v("支持的修改方式:\n"),a("ul",[a("li",[t._v("直接修改"),a("code",[t._v("x")]),t._v("或"),a("code",[t._v("y")])]),t._v(" "),a("li",[t._v("通过Vector2的"),a("code",[t._v(".set(x,y)")]),t._v(" 批量修改")]),t._v(" "),a("li",[t._v("创建一个新的二维向量Vector2 进行修改")])])])]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.直接修改")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.用set(x,y)进行批量修改")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.创建一个新的Vector2 进行修改")]),t._v("\n   texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Vector2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"设置旋转弧度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置旋转弧度"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置旋转弧度")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.rotation",target:"_blank",rel:"noopener noreferrer"}},[t._v(".rotation"),a("OutboundLink")],1),t._v(" 可以设置纹理将围绕中心点旋转多少度 单位为弧度（rad）。正值为逆时针方向旋转，默认值为"),a("strong",[t._v("0")]),t._v("。\n"),a("ul",[a("li",[t._v("PI在数学方法中为π，而此时的π在角度里为180°，"),a("code",[t._v("Math.PI/180")]),t._v("就为1°")]),t._v(" "),a("li",[t._v("弧度= 角度 * "),a("code",[t._v("Math.PI / 180")])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209081831800.png",alt:"image-20220908183133719"}})]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算出弧度")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" radians "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("180")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置纹理的旋转")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rotation "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" radians\n")])])]),a("h3",{attrs:{id:"修改旋转中心点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改旋转中心点"}},[t._v("#")]),t._v(" "),a("strong",[t._v("修改旋转中心点")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.center",target:"_blank",rel:"noopener noreferrer"}},[t._v(".center"),a("OutboundLink")],1),t._v(" 可以设置旋转中心点 , (0.5, 0.5)对应纹理的正中心。默认值为(0,0)，即左下角。通常配合"),a("code",[t._v(".rotation")]),t._v("进行使用 参数是一个"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/math/Vector2",target:"_blank",rel:"noopener noreferrer"}},[t._v("二维向量（Vector2）"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.直接修改")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.用set(x,y)进行批量修改")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配合rotation旋转弧度使用")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算出弧度")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" radians "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("180")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rotation "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" radians\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改旋转中心点")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"设置贴图重复"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置贴图重复"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置贴图重复")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.repeat",target:"_blank",rel:"noopener noreferrer"}},[t._v(".repeat"),a("OutboundLink")],1),t._v(" 设置贴图重复 "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/math/Vector2",target:"_blank",rel:"noopener noreferrer"}},[t._v("二维向量（Vector2）"),a("OutboundLink")],1),t._v(" 代表x轴y轴 对应的重复次数\n"),a("ul",[a("li",[t._v("默认的贴图包裹是"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/constants/Textures",target:"_blank",rel:"noopener noreferrer"}},[t._v("THREE.ClampToEdgeWrapping"),a("OutboundLink")],1),t._v("是将贴图推至到边远 而非重复 所以需要将贴图的水平和垂直设置重复包裹"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/constants/Textures",target:"_blank",rel:"noopener noreferrer"}},[t._v("THREE.RepeatWrapping"),a("OutboundLink")],1),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.wrapS",target:"_blank",rel:"noopener noreferrer"}},[t._v(".wrapS"),a("OutboundLink")],1),t._v(" 定义了纹理贴图在水平方向上将如何包裹")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=V#api/zh/textures/Texture.wrapT",target:"_blank",rel:"noopener noreferrer"}},[t._v(".wrapT"),a("OutboundLink")],1),t._v(" 定义了纹理贴图在垂直方向上将如何包裹")])])])])])]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置重复包裹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置水平方向上")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wrapS "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RepeatWrapping\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置垂直方向")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wrapT "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RepeatWrapping\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.设置重复次数")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置 x y轴的重复次数")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.直接设置")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("设置重复后的纹理常量")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("THREE.ClampToEdgeWrapping")]),t._v(" 将贴图推至边缘 不进行重复操作")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209090951081.png",alt:"image-20220909095110040"}})]),t._v(" "),a("ul",[a("li",[a("code",[t._v("THREE.RepeatWrapping")]),t._v(" 将贴图按照重复次数 进行重复包裹")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209090952646.png",alt:"image-20220909095248617"}})]),t._v(" "),a("ul",[a("li",[a("code",[t._v("THREE.MirroredRepeatWrapping")]),t._v(" 将贴图按照重复次数 进行镜像方式的重复包裹")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091001965.png",alt:"image-20220909100116935"}})])])]),t._v(" "),a("h3",{attrs:{id:"设置纹理采样"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置纹理采样"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置纹理采样")])]),t._v(" "),a("ul",[a("li",[t._v("定义当一个纹理单元 覆盖多个像素点或者不足以覆盖对个像素点的时候 如何设置采样效果\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/textures/Texture.magFilter",target:"_blank",rel:"noopener noreferrer"}},[t._v(".magFilter "),a("OutboundLink")],1),t._v("当一个纹素覆盖大于一个像素时，贴图将如何采样。( 放大滤镜 )\n"),a("ul",[a("li",[t._v("默认的纹理采样是 "),a("code",[t._v("THREE.LinearFilter")]),t._v(" 表示获取4个最近的纹理单元执行双向线性插值计算 "),a("code",[t._v("显示效果好")])]),t._v(" "),a("li",[t._v("另外的选项是 "),a("code",[t._v("THREE.NearestFilter")]),t._v(", 表示使用最近的texel "),a("code",[t._v("性能优")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/textures/Texture.minFilter",target:"_blank",rel:"noopener noreferrer"}},[t._v(".minFilter"),a("OutboundLink")],1),t._v(" 当一个纹素覆盖小于一个像素时，贴图将如何采样。( 缩小滤镜 )\n"),a("ul",[a("li",[a("code",[t._v("THREE.NearestFilter")]),t._v("：最近滤镜。在纹理基层上执行最邻近过滤。"),a("code",[t._v("性能优")])]),t._v(" "),a("li",[a("code",[t._v("THREE.NearestMipMapNearestFilter")]),t._v("：选择最临近的mip层，并执行最临近的过滤。")]),t._v(" "),a("li",[a("code",[t._v("THREE.NearestMipMapLinearFilter")]),t._v("：在mip层之间执行线性插补，并执行最临近的过滤。")]),t._v(" "),a("li",[a("code",[t._v("THREE.LinearFilter")]),t._v("：在纹理基层上执行线性过滤。 "),a("code",[t._v("显示效果好")])]),t._v(" "),a("li",[a("code",[t._v("THREE.LinearMipMapNearestFilter")]),t._v("：选择最临近的mip层，并执行线性过滤。")]),t._v(" "),a("li",[a("code",[t._v("THREE.LinearMipMapLinearFilter")]),t._v("：在mip层之间执行线性插补，并执行线性过滤。")])])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("简单的进行一个预览效果")])]),t._v(" "),a("p",[t._v("采用一个 36x36的小图片 看看设置"),a("code",[t._v("THREE.NearestFilter")]),t._v(" 和 "),a("code",[t._v("THREE.LinearFilter")]),t._v("的显示差别")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("使用 "),a("code",[t._v("THREE.LinearFilter")]),t._v(" 可以看出 小图片被模糊化了  three.js帮你优化了图片的展示效果 这种展示效果有点像一些调低画质的游戏")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("THREE.LinearFilter")]),t._v(" 是默认纹理采样无需设置")])]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通常不需要手动设置 贴图默认就是这种纹理采样  ")]),t._v("\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minFilter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LinearFilter\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("magFilter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LinearFilter\n")])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091340545.png",alt:"image-20220909134033507"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("使用"),a("code",[t._v("THREE.NearestFilter")]),t._v(" 可以很明细的看出来马赛克效果( 因为图片本来就很小 ) 不会对贴图进行一些平滑处理 这种展示效果很像我的世界或一些像素游戏")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("THREE.NearestFilter")]),t._v(" 需要你手动设置这种纹理采样")])]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[t._v("  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minFilter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NearestFilter\n  texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("magFilter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NearestFilter\n")])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091344653.png",alt:"image-20220909134420622"}})]),t._v(" "),a("h3",{attrs:{id:"设置灰度纹理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置灰度纹理"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置灰度纹理")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.alphaMap",target:"_blank",rel:"noopener noreferrer"}},[t._v(".alphaMap"),a("OutboundLink")],1),t._v(" 灰度纹理，用于控制整个表面的不透明度。（黑色：完全透明；白色：完全不透明）\n"),a("ul",[a("li",[t._v("使用"),a("code",[t._v(".alphaMap")]),t._v("灰度纹理的时候 需要把纹理的"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshBasicMaterial#api/zh/materials/Material.transparent",target:"_blank",rel:"noopener noreferrer"}},[t._v(".transparent"),a("OutboundLink")],1),t._v(" 设置为"),a("code",[t._v("true")]),t._v(" 透明")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("灰度纹理的作用")])]),t._v(" "),a("ul",[a("li",[t._v("灰度纹理是用来实现 纹理局部透明 就跟栅栏一样 空隙的部分希望透明 不被遮挡")])]),t._v(" "),a("p",[t._v("比如说这个门 只想要中间部分 "),a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091542426.png",alt:"image-20220909154249316"}})]),t._v(" "),a("p",[t._v("就可能需要 灰度纹理进行处理 "),a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091543291.png",alt:"image-20220909154352262"}})]),t._v(" "),a("ul",[a("li",[t._v("设置灰度纹理前的效果")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091548945.png",alt:"image-20220909154812917"}})]),t._v(" "),a("ul",[a("li",[t._v("设置灰度纹理后的效果 很明显看到 "),a("strong",[t._v("灰度纹理为黑色的地方变成了透明色")]),t._v(" 白色为显示的内容")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209091548631.png",alt:"image-20220909154840606"}})]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/color.jpg'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入灰度纹理")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logoGray "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/alpha.jpg'")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建纹理")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" texture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建灰度纹理")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureGray "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logoGray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个在网格模型中展示的几何体")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BoxGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置该集合体的纹理材质")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置纹理贴图")]),t._v("\n    map"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置灰度纹理贴图")]),t._v("\n    alphaMap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" textureGray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置透明度 一定要把透明度设置为true")]),t._v("\n    transparent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),a("h3",{attrs:{id:"设置环境遮挡贴图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置环境遮挡贴图"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置环境遮挡贴图")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.aoMap",target:"_blank",rel:"noopener noreferrer"}},[t._v(".aoMap"),a("OutboundLink")],1),t._v(" 可以设置环境遮挡贴图 设置后需要第二组UV: "),a("code",[t._v("uv2")]),t._v(" 坐标属性\n"),a("ul",[a("li",[a("code",[t._v("uv2")]),t._v(": 就是把第一组"),a("code",[t._v("uv")]),t._v("坐标的值赋值给第二组"),a("code",[t._v("uv")]),t._v("坐标")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.aoMapIntensity",target:"_blank",rel:"noopener noreferrer"}},[t._v(".aoMapIntensity"),a("OutboundLink")],1),t._v(" 可以设置环境遮挡的强度 默认是1 0是取消环境遮蔽效果")]),t._v(" "),a("li",[t._v("网格模型(mesh) 中的"),a("code",[t._v(".geometry")]),t._v("属性 实际上就是"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=BoxGeometry#api/zh/core/BufferGeometry",target:"_blank",rel:"noopener noreferrer"}},[t._v("BufferGeometry"),a("OutboundLink")],1),t._v(" 缓冲几何( 是面片、线或点几何体的有效表述。包括顶点位置，面片索引、法相量、颜色值、UV 坐标和自定义缓存属性值 ) 通过其"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=BoxGeometry#api/zh/core/BufferGeometry.setAttribute",target:"_blank",rel:"noopener noreferrer"}},[t._v(".setAttribute"),a("OutboundLink")],1),t._v("方法 给其设置一个属性 比如: 环境遮挡题图需要的"),a("code",[t._v("uv2")]),t._v("坐标属性")])]),t._v(" "),a("blockquote",[a("p",[t._v("环境遮挡设置后的效果")])]),t._v(" "),a("ul",[a("li",[t._v("环境遮挡的贴图")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209131708478.png",alt:"image-20220913170807440"}})]),t._v(" "),a("ul",[a("li",[t._v("设置环境遮挡后 可以看出 物体有明显的阴影效果 黑色的就是遮挡 白色的就是非遮挡")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209131705645.png",alt:"image-20220913170523537"}})]),t._v(" "),a("ul",[a("li",[t._v("设置环境遮挡的代码")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/color.jpg'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入环境遮挡贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logoEnv "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/ambientOcclusion.jpg'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" texture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建环境遮挡贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logoEnv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个在网格模型中展示的几何体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数为长宽高 以及长宽高的分段数 横截面，利于变形使用，段数越多越柔和，则段数越少越生硬。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置该集合体的纹理材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置纹理贴图")]),t._v("\n    map"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置环境遮挡贴图")]),t._v("\n    aoMap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" textureEnv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置环境遮挡贴图强度")]),t._v("\n    aoMapIntensity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1 最小值为0 最大值为1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  创建一个网格模型 放入创建的几何体和其自身材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cubeMaterial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mesh(几何体, 纹理材质)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置环境遮挡贴图第二组uv坐标 (就是把第一组uv坐标的值赋值给第二组uv坐标)")]),t._v("\ncube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uv2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Float32BufferAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将几何体添加到场景中")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("h3",{attrs:{id:"设置位移贴图-凹凸效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置位移贴图-凹凸效果"}},[t._v("#")]),t._v(" "),a("strong",[t._v("设置位移贴图(凹凸效果)")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshStandardMaterial#api/zh/materials/MeshStandardMaterial.displacementMap",target:"_blank",rel:"noopener noreferrer"}},[t._v(".displacementScale"),a("OutboundLink")],1),t._v(" 设置位移贴图(凹凸纹理) 需要设置网格模型的分段数(默认是1)和"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=MeshStandardMaterial#api/zh/materials/MeshStandardMaterial.displacementScale",target:"_blank",rel:"noopener noreferrer"}},[t._v(".displacementScale"),a("OutboundLink")],1),t._v(" 设置位移贴图影响程度(凹凸的深度 最大1 默认值1)\n"),a("ul",[a("li",[t._v("分段数是横截面，利于变形使用，段数越多越柔和，则段数越少越生硬。")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://jinyanlong-1305883696.cos.ap-hongkong.myqcloud.com/202209141706366.png",alt:"image-20220914170655329"}})]),t._v(" "),a("div",{staticClass:"language-tsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/color.jpg'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入置换纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" displacementMap "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/assets/door/height.jpg'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" texture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建置换纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureDisplacementMap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("displacementMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个在网格模型中展示的几何体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BoxGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参数为长宽高 以及长宽高的分段数 分段数需要单独设置 默认是1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置该集合体的纹理材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置纹理贴图")]),t._v("\n    map"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" texture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用置换纹理")]),t._v("\n    displacementMap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" textureDisplacementMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置置换纹理强度")]),t._v("\n    displacementScale"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认为1 最小值为0 最大值为1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);